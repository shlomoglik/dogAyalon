!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){(function(e,n){!function(){"use strict";function r(t,e,n,r,o,a){return{tag:t,key:e,attrs:n,children:r,text:o,dom:a,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}r.normalize=function(t){return Array.isArray(t)?r("[",void 0,void 0,r.normalizeChildren(t),void 0,void 0):null!=t&&"object"!=typeof t?r("#",void 0,void 0,!1===t?"":t,void 0,void 0):t},r.normalizeChildren=function(t){for(var e=0;e<t.length;e++)t[e]=r.normalize(t[e]);return t};var o=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,a={},i={}.hasOwnProperty;function l(t){for(var e in t)if(i.call(t,e))return!1;return!0}function s(t){var e,n=arguments[1],s=2;if(null==t||"string"!=typeof t&&"function"!=typeof t&&"function"!=typeof t.view)throw Error("The selector must be either a string or a component.");if("string"==typeof t)var c=a[t]||function(t){for(var e,n="div",r=[],i={};e=o.exec(t);){var l=e[1],s=e[2];if(""===l&&""!==s)n=s;else if("#"===l)i.id=s;else if("."===l)r.push(s);else if("["===e[3][0]){var c=e[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===e[4]?r.push(c):i[e[4]]=""===c?c:c||!0}}return r.length>0&&(i.className=r.join(" ")),a[t]={tag:n,attrs:i}}(t);if(null==n?n={}:("object"!=typeof n||null!=n.tag||Array.isArray(n))&&(n={},s=1),arguments.length===s+1)e=arguments[s],Array.isArray(e)||(e=[e]);else for(e=[];s<arguments.length;)e.push(arguments[s++]);var u=r.normalizeChildren(e);return"string"==typeof t?function(t,e,n){var o,a,s=!1,c=e.className||e.class;if(!l(t.attrs)&&!l(e)){var u={};for(var d in e)i.call(e,d)&&(u[d]=e[d]);e=u}for(var d in t.attrs)i.call(t.attrs,d)&&(e[d]=t.attrs[d]);for(var d in void 0!==c&&(void 0!==e.class&&(e.class=void 0,e.className=c),null!=t.attrs.className&&(e.className=t.attrs.className+" "+c)),e)if(i.call(e,d)&&"key"!==d){s=!0;break}return Array.isArray(n)&&1===n.length&&null!=n[0]&&"#"===n[0].tag?a=n[0].children:o=n,r(t.tag,e.key,s?e:void 0,o,a)}(c,n,u):r(t,n.key,n,u)}s.trust=function(t){return null==t&&(t=""),r("<",void 0,void 0,t,void 0,void 0)},s.fragment=function(t,e){return r("[",t.key,t,r.normalizeChildren(e),void 0,void 0)};var c=s;if((u=function(t){if(!(this instanceof u))throw new Error("Promise must be called with `new`");if("function"!=typeof t)throw new TypeError("executor must be a function");var n=this,r=[],o=[],a=c(r,!0),i=c(o,!1),l=n._instance={resolvers:r,rejectors:o},s="function"==typeof e?e:setTimeout;function c(t,e){return function a(c){var u;try{if(!e||null==c||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof(u=c.then))s(function(){e||0!==t.length||console.error("Possible unhandled promise rejection:",c);for(var n=0;n<t.length;n++)t[n](c);r.length=0,o.length=0,l.state=e,l.retry=function(){a(c)}});else{if(c===n)throw new TypeError("Promise can't be resolved w/ itself");d(u.bind(c))}}catch(t){i(t)}}}function d(t){var e=0;function n(t){return function(n){e++>0||t(n)}}var r=n(i);try{t(n(a),r)}catch(t){r(t)}}d(t)}).prototype.then=function(t,e){var n,r,o=this._instance;function a(t,e,a,i){e.push(function(e){if("function"!=typeof t)a(e);else try{n(t(e))}catch(t){r&&r(t)}}),"function"==typeof o.retry&&i===o.state&&o.retry()}var i=new u(function(t,e){n=t,r=e});return a(t,o.resolvers,n,!0),a(e,o.rejectors,r,!1),i},u.prototype.catch=function(t){return this.then(null,t)},u.resolve=function(t){return t instanceof u?t:new u(function(e){e(t)})},u.reject=function(t){return new u(function(e,n){n(t)})},u.all=function(t){return new u(function(e,n){var r=t.length,o=0,a=[];if(0===t.length)e([]);else for(var i=0;i<t.length;i++)!function(i){function l(t){o++,a[i]=t,o===r&&e(a)}null==t[i]||"object"!=typeof t[i]&&"function"!=typeof t[i]||"function"!=typeof t[i].then?l(t[i]):t[i].then(l,n)}(i)})},u.race=function(t){return new u(function(e,n){for(var r=0;r<t.length;r++)t[r].then(e,n)})},"undefined"!=typeof window){void 0===window.Promise&&(window.Promise=u);var u=window.Promise}else if(void 0!==n){void 0===n.Promise&&(n.Promise=u);u=n.Promise}var d=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return"";var e=[];for(var n in t)r(n,t[n]);return e.join("&");function r(t,n){if(Array.isArray(n))for(var o=0;o<n.length;o++)r(t+"["+o+"]",n[o]);else if("[object Object]"===Object.prototype.toString.call(n))for(var o in n)r(t+"["+o+"]",n[o]);else e.push(encodeURIComponent(t)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}},f=new RegExp("^file://","i"),p=function(t,e){var n,r=0;function o(){var t=0;function e(){0==--t&&"function"==typeof n&&n()}return function n(r){var o=r.then;return r.then=function(){t++;var a=o.apply(r,arguments);return a.then(e,function(n){if(e(),0===t)throw n}),n(a)},r}}function a(t,e){if("string"==typeof t){var n=t;null==(t=e||{}).url&&(t.url=n)}return t}function i(t,e){if(null==e)return t;for(var n=t.match(/:[^\/]+/gi)||[],r=0;r<n.length;r++){var o=n[r].slice(1);null!=e[o]&&(t=t.replace(n[r],e[o]))}return t}function l(t,e){var n=d(e);if(""!==n){var r=t.indexOf("?")<0?"?":"&";t+=r+n}return t}function s(t){try{return""!==t?JSON.parse(t):null}catch(e){throw new Error(t)}}function c(t){return t.responseText}function u(t,e){if("function"==typeof t){if(!Array.isArray(e))return new t(e);for(var n=0;n<e.length;n++)e[n]=new t(e[n])}return e}return{request:function(n,r){var d=o();n=a(n,r);var p=new e(function(e,r){null==n.method&&(n.method="GET"),n.method=n.method.toUpperCase();var o="GET"!==n.method&&"TRACE"!==n.method&&("boolean"!=typeof n.useBody||n.useBody);"function"!=typeof n.serialize&&(n.serialize="undefined"!=typeof FormData&&n.data instanceof FormData?function(t){return t}:JSON.stringify),"function"!=typeof n.deserialize&&(n.deserialize=s),"function"!=typeof n.extract&&(n.extract=c),n.url=i(n.url,n.data),o?n.data=n.serialize(n.data):n.url=l(n.url,n.data);var a=new t.XMLHttpRequest,d=!1,p=a.abort;for(var m in a.abort=function(){d=!0,p.call(a)},a.open(n.method,n.url,"boolean"!=typeof n.async||n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),n.serialize!==JSON.stringify||!o||n.headers&&n.headers.hasOwnProperty("Content-Type")||a.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.deserialize!==s||n.headers&&n.headers.hasOwnProperty("Accept")||a.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(a.withCredentials=n.withCredentials),n.headers)({}).hasOwnProperty.call(n.headers,m)&&a.setRequestHeader(m,n.headers[m]);"function"==typeof n.config&&(a=n.config(a,n)||a),a.onreadystatechange=function(){if(!d&&4===a.readyState)try{var t=n.extract!==c?n.extract(a,n):n.deserialize(n.extract(a,n));if(a.status>=200&&a.status<300||304===a.status||f.test(n.url))e(u(n.type,t));else{var o=new Error(a.responseText);for(var i in t)o[i]=t[i];r(o)}}catch(t){r(t)}},o&&null!=n.data?a.send(n.data):a.send()});return!0===n.background?p:d(p)},jsonp:function(n,s){var c=o();n=a(n,s);var d=new e(function(e,o){var a=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+r++,s=t.document.createElement("script");t[a]=function(r){s.parentNode.removeChild(s),e(u(n.type,r)),delete t[a]},s.onerror=function(){s.parentNode.removeChild(s),o(new Error("JSONP request failed")),delete t[a]},null==n.data&&(n.data={}),n.url=i(n.url,n.data),n.data[n.callbackKey||"callback"]=a,s.src=l(n.url,n.data),t.document.documentElement.appendChild(s)});return!0===n.background?d:c(d)},setCompletionCallback:function(t){n=t}}}(window,u),m=function(t){var e,n=t.document,o=n.createDocumentFragment(),a={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function i(t){return t.attrs&&t.attrs.xmlns||a[t.tag]}function l(){try{return n.activeElement}catch(t){return null}}function s(t,e,n,r,o,a,i){for(var l=n;l<r;l++){var s=e[l];null!=s&&c(t,s,o,i,a)}}function c(t,e,a,l,f){var p=e.tag;if("string"!=typeof p)return function(t,e,n,r,a){if(d(e,n),null!=e.instance){var i=c(t,e.instance,n,r,a);return e.dom=e.instance.dom,e.domSize=null!=e.dom?e.instance.domSize:0,g(t,i,a),i}return e.domSize=0,o}(t,e,a,l,f);switch(e.state={},null!=e.attrs&&T(e.attrs,e,a),p){case"#":return function(t,e,r){return e.dom=n.createTextNode(e.children),g(t,e.dom,r),e.dom}(t,e,f);case"<":return u(t,e,f);case"[":return function(t,e,r,o,a){var i=n.createDocumentFragment();if(null!=e.children){var l=e.children;s(i,l,0,l.length,r,null,o)}return e.dom=i.firstChild,e.domSize=i.childNodes.length,g(t,i,a),i}(t,e,a,l,f);default:return function(t,e,o,a,l){var c=e.tag,u=e.attrs,d=u&&u.is,f=(a=i(e)||a)?d?n.createElementNS(a,c,{is:d}):n.createElementNS(a,c):d?n.createElement(c,{is:d}):n.createElement(c);e.dom=f,null!=u&&function(t,e,n){for(var r in e)x(t,r,null,e[r],n)}(e,u,a);if(g(t,f,l),null!=e.attrs&&null!=e.attrs.contenteditable)_(e);else if(null!=e.text&&(""!==e.text?f.textContent=e.text:e.children=[r("#",void 0,void 0,e.text,void 0,void 0)]),null!=e.children){var p=e.children;s(f,p,0,p.length,o,null,a),function(t){var e=t.attrs;"select"===t.tag&&null!=e&&("value"in e&&x(t,"value",null,e.value,void 0),"selectedIndex"in e&&x(t,"selectedIndex",null,e.selectedIndex,void 0))}(e)}return f}(t,e,a,l,f)}}function u(t,e,r){var o={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(e.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",a=n.createElement(o);a.innerHTML=e.children,e.dom=a.firstChild,e.domSize=a.childNodes.length;for(var i,l=n.createDocumentFragment();i=a.firstChild;)l.appendChild(i);return g(t,l,r),l}function d(t,e){var n;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),null!=(n=t.state.view).$$reentrantLock$$)return o;n.$$reentrantLock$$=!0}else{if(t.state=void 0,null!=(n=t.tag).$$reentrantLock$$)return o;n.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}if(t._state=t.state,null!=t.attrs&&T(t.attrs,t,e),T(t._state,t,e),t.instance=r.normalize(t._state.view.call(t.state,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function f(t,e,n,r,o,a,i){if(e!==n&&(null!=e||null!=n))if(null==e)s(t,n,0,n.length,o,a,i);else if(null==n)b(e,0,e.length,n);else{if(e.length===n.length){for(var l=!1,u=0;u<n.length;u++)if(null!=n[u]&&null!=e[u]){l=null==n[u].key&&null==e[u].key;break}if(l){for(u=0;u<e.length;u++)e[u]!==n[u]&&(null==e[u]&&null!=n[u]?c(t,n[u],o,i,h(e,u+1,a)):null==n[u]?b(e,u,u+1,n):p(t,e[u],n[u],o,h(e,u+1,a),r,i));return}}if(r=r||function(t,e){if(null!=t.pool&&Math.abs(t.pool.length-e.length)<=Math.abs(t.length-e.length)){var n=t[0]&&t[0].children&&t[0].children.length||0,r=t.pool[0]&&t.pool[0].children&&t.pool[0].children.length||0,o=e[0]&&e[0].children&&e[0].children.length||0;if(Math.abs(r-o)<=Math.abs(n-o))return!0}return!1}(e,n)){var d=e.pool;e=e.concat(e.pool)}for(var f,_=0,y=0,w=e.length-1,x=n.length-1;w>=_&&x>=y;){if((I=e[_])!==(T=n[y])||r)if(null==I)_++;else if(null==T)y++;else if(I.key===T.key){var k=null!=d&&_>=e.length-d.length||null==d&&r;y++,p(t,I,T,o,h(e,++_,a),k,i),r&&I.tag===T.tag&&g(t,v(I),a)}else{if((I=e[w])!==T||r)if(null==I)w--;else if(null==T)y++;else{if(I.key!==T.key)break;k=null!=d&&w>=e.length-d.length||null==d&&r;p(t,I,T,o,h(e,w+1,a),k,i),(r||y<x)&&g(t,v(I),h(e,_,a)),w--,y++}else w--,y++}else _++,y++}for(;w>=_&&x>=y;){var I,T;if((I=e[w])!==(T=n[x])||r)if(null==I)w--;else if(null==T)x--;else if(I.key===T.key){k=null!=d&&w>=e.length-d.length||null==d&&r;p(t,I,T,o,h(e,w+1,a),k,i),r&&I.tag===T.tag&&g(t,v(I),a),null!=I.dom&&(a=I.dom),w--,x--}else{if(f||(f=m(e,w)),null!=T){var D=f[T.key];if(null!=D){var O=e[D];k=null!=d&&D>=e.length-d.length||null==d&&r;p(t,O,T,o,h(e,w+1,a),r,i),g(t,v(O),a),e[D].skip=!0,null!=O.dom&&(a=O.dom)}else{a=c(t,T,o,i,a)}}x--}else w--,x--;if(x<y)break}s(t,n,y,x+1,o,a,i),b(e,_,w+1,n)}}function p(t,e,n,o,a,l,s){var m=e.tag;if(m===n.tag){if(n.state=e.state,n._state=e._state,n.events=e.events,!l&&function(t,e){var n,r;null!=t.attrs&&"function"==typeof t.attrs.onbeforeupdate&&(n=t.attrs.onbeforeupdate.call(t.state,t,e));"string"!=typeof t.tag&&"function"==typeof t._state.onbeforeupdate&&(r=t._state.onbeforeupdate.call(t.state,t,e));if(!(void 0===n&&void 0===r||n||r))return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,!0;return!1}(n,e))return;if("string"==typeof m)switch(null!=n.attrs&&(l?(n.state={},T(n.attrs,n,o)):D(n.attrs,n,o)),m){case"#":!function(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children);e.dom=t.dom}(e,n);break;case"<":!function(t,e,n,r){e.children!==n.children?(v(e),u(t,n,r)):(n.dom=e.dom,n.domSize=e.domSize)}(t,e,n,a);break;case"[":!function(t,e,n,r,o,a,i){f(t,e.children,n.children,r,o,a,i);var l=0,s=n.children;if(n.dom=null,null!=s){for(var c=0;c<s.length;c++){var u=s[c];null!=u&&null!=u.dom&&(null==n.dom&&(n.dom=u.dom),l+=u.domSize||1)}1!==l&&(n.domSize=l)}}(t,e,n,l,o,a,s);break;default:!function(t,e,n,o,a){var l=e.dom=t.dom;a=i(e)||a,"textarea"===e.tag&&(null==e.attrs&&(e.attrs={}),null!=e.text&&(e.attrs.value=e.text,e.text=void 0));(function(t,e,n,r){if(null!=n)for(var o in n)x(t,o,e&&e[o],n[o],r);if(null!=e)for(var o in e)null!=n&&o in n||("className"===o&&(o="class"),"o"!==o[0]||"n"!==o[1]||k(o)?"key"!==o&&t.dom.removeAttribute(o):I(t,o,void 0))})(e,t.attrs,e.attrs,a),null!=e.attrs&&null!=e.attrs.contenteditable?_(e):null!=t.text&&null!=e.text&&""!==e.text?t.text.toString()!==e.text.toString()&&(t.dom.firstChild.nodeValue=e.text):(null!=t.text&&(t.children=[r("#",void 0,void 0,t.text,void 0,t.dom.firstChild)]),null!=e.text&&(e.children=[r("#",void 0,void 0,e.text,void 0,void 0)]),f(l,t.children,e.children,n,o,null,a))}(e,n,l,o,s)}else!function(t,e,n,o,a,i,l){if(i)d(n,o);else{if(n.instance=r.normalize(n._state.view.call(n.state,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");null!=n.attrs&&D(n.attrs,n,o),D(n._state,n,o)}null!=n.instance?(null==e.instance?c(t,n.instance,o,l,a):p(t,e.instance,n.instance,o,a,i,l),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=e.instance?(y(e.instance,null),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}(t,e,n,o,a,l,s)}else y(e,null),c(t,n,o,s,a)}function m(t,e){var n={},r=0;for(r=0;r<e;r++){var o=t[r];if(null!=o){var a=o.key;null!=a&&(n[a]=r)}}return n}function v(t){var e=t.domSize;if(null!=e||null==t.dom){var r=n.createDocumentFragment();if(e>0){for(var o=t.dom;--e;)r.appendChild(o.nextSibling);r.insertBefore(o,r.firstChild)}return r}return t.dom}function h(t,e,n){for(;e<t.length;e++)if(null!=t[e]&&null!=t[e].dom)return t[e].dom;return n}function g(t,e,n){n&&n.parentNode?t.insertBefore(e,n):t.appendChild(e)}function _(t){var e=t.children;if(null!=e&&1===e.length&&"<"===e[0].tag){var n=e[0].children;t.dom.innerHTML!==n&&(t.dom.innerHTML=n)}else if(null!=t.text||null!=e&&0!==e.length)throw new Error("Child node of a contenteditable must be trusted")}function b(t,e,n,r){for(var o=e;o<n;o++){var a=t[o];null!=a&&(a.skip?a.skip=!1:y(a,r))}}function y(t,e){var n,r=1,o=0;t.attrs&&"function"==typeof t.attrs.onbeforeremove&&(null!=(n=t.attrs.onbeforeremove.call(t.state,t))&&"function"==typeof n.then&&(r++,n.then(a,a)));"string"!=typeof t.tag&&"function"==typeof t._state.onbeforeremove&&(null!=(n=t._state.onbeforeremove.call(t.state,t))&&"function"==typeof n.then&&(r++,n.then(a,a)));function a(){if(++o===r&&(function t(e){e.attrs&&"function"==typeof e.attrs.onremove&&e.attrs.onremove.call(e.state,e);if("string"!=typeof e.tag)"function"==typeof e._state.onremove&&e._state.onremove.call(e.state,e),null!=e.instance&&t(e.instance);else{var n=e.children;if(Array.isArray(n))for(var r=0;r<n.length;r++){var o=n[r];null!=o&&t(o)}}}(t),t.dom)){var n=t.domSize||1;if(n>1)for(var a=t.dom;--n;)w(a.nextSibling);w(t.dom),null==e||null!=t.domSize||null!=(i=t.attrs)&&(i.oncreate||i.onupdate||i.onbeforeremove||i.onremove)||"string"!=typeof t.tag||(e.pool?e.pool.push(t):e.pool=[t])}var i}a()}function w(t){var e=t.parentNode;null!=e&&e.removeChild(t)}function x(t,e,n,r,o){var a=t.dom;if("key"!==e&&"is"!==e&&(n!==r||function(t,e){return"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e&&t.dom===l()}(t,e)||"object"==typeof r)&&void 0!==r&&!k(e)){var i,s=e.indexOf(":");if(s>-1&&"xlink"===e.substr(0,s))a.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(s+1),r);else if("o"===e[0]&&"n"===e[1]&&"function"==typeof r)I(t,e,r);else if("style"===e)!function(t,e,n){e===n&&(t.style.cssText="",e=null);if(null==n)t.style.cssText="";else if("string"==typeof n)t.style.cssText=n;else{for(var r in"string"==typeof e&&(t.style.cssText=""),n)t.style[r]=n[r];if(null!=e&&"string"!=typeof e)for(var r in e)r in n||(t.style[r]="")}}(a,n,r);else if(e in a&&("href"!==(i=e)&&"list"!==i&&"form"!==i&&"width"!==i&&"height"!==i)&&void 0===o&&!function(t){return t.attrs.is||t.tag.indexOf("-")>-1}(t)){if("value"===e){var c=""+r;if(("input"===t.tag||"textarea"===t.tag)&&t.dom.value===c&&t.dom===l())return;if("select"===t.tag)if(null===r){if(-1===t.dom.selectedIndex&&t.dom===l())return}else if(null!==n&&t.dom.value===c&&t.dom===l())return;if("option"===t.tag&&null!=n&&t.dom.value===c)return}if("input"===t.tag&&"type"===e)return void a.setAttribute(e,r);a[e]=r}else"boolean"==typeof r?r?a.setAttribute(e,""):a.removeAttribute(e):a.setAttribute("className"===e?"class":e,r)}}function k(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function I(t,n,r){var o=t.dom,a="function"!=typeof e?r:function(t){var n=r.call(o,t);return e.call(o,t),n};if(n in o)o[n]="function"==typeof r?a:null;else{var i=n.slice(2);if(void 0===t.events&&(t.events={}),t.events[n]===a)return;null!=t.events[n]&&o.removeEventListener(i,t.events[n],!1),"function"==typeof r&&(t.events[n]=a,o.addEventListener(i,t.events[n],!1))}}function T(t,e,n){"function"==typeof t.oninit&&t.oninit.call(e.state,e),"function"==typeof t.oncreate&&n.push(t.oncreate.bind(e.state,e))}function D(t,e,n){"function"==typeof t.onupdate&&n.push(t.onupdate.bind(e.state,e))}return{render:function(t,e){if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var n=[],o=l(),a=t.namespaceURI;null==t.vnodes&&(t.textContent=""),Array.isArray(e)||(e=[e]),f(t,t.vnodes,r.normalizeChildren(e),!1,n,null,"http://www.w3.org/1999/xhtml"===a?void 0:a),t.vnodes=e,null!=o&&l()!==o&&o.focus();for(var i=0;i<n.length;i++)n[i]()},setEventCallback:function(t){return e=t}}};var v=function(t){var e=m(t);e.setEventCallback(function(t){!1===t.redraw?t.redraw=void 0:o()});var n=[];function r(t){var e=n.indexOf(t);e>-1&&n.splice(e,2)}function o(){for(var t=1;t<n.length;t+=2)n[t]()}return{subscribe:function(t,e){r(t),n.push(t,function(t){var e=0,n=null,r="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var o=Date.now();0===e||o-e>=16?(e=o,t()):null===n&&(n=r(function(){n=null,t(),e=Date.now()},16-(o-e)))}}(e))},unsubscribe:r,redraw:o,render:e.render}}(window);p.setCompletionCallback(v.redraw);var h;c.mount=(h=v,function(t,e){if(null===e)return h.render(t,[]),void h.unsubscribe(t);if(null==e.view&&"function"!=typeof e)throw new Error("m.mount(element, component) expects a component, not a vnode");h.subscribe(t,function(){h.render(t,r(e))}),h.redraw()});var g=u,_=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e=t.split("&"),n={},r={},o=0;o<e.length;o++){var a=e[o].split("="),i=decodeURIComponent(a[0]),l=2===a.length?decodeURIComponent(a[1]):"";"true"===l?l=!0:"false"===l&&(l=!1);var s=i.split(/\]\[?|\[/),c=r;i.indexOf("[")>-1&&s.pop();for(var u=0;u<s.length;u++){var d=s[u],f=s[u+1],p=""==f||!isNaN(parseInt(f,10));if(""===d)null==n[i=s.slice(0,u).join()]&&(n[i]=Array.isArray(c)?c.length:0),d=n[i]++;else if("__proto__"===d)break;if(u===s.length-1)c[d]=l;else{var m=Object.getOwnPropertyDescriptor(c,d);null!=m&&(m=m.value),null==m&&(c[d]=m=p?[]:{}),c=m}}}return r},b=function(t){var n,r="function"==typeof t.history.pushState,o="function"==typeof e?e:setTimeout;function a(e){var n=t.location[e].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===e&&"/"!==n[0]&&(n="/"+n),n}function i(t,e,n){var r=t.indexOf("?"),o=t.indexOf("#"),a=r>-1?r:o>-1?o:t.length;if(r>-1){var i=o>-1?o:t.length,l=_(t.slice(r+1,i));for(var s in l)e[s]=l[s]}if(o>-1){var c=_(t.slice(o+1));for(var s in c)n[s]=c[s]}return t.slice(0,a)}var l={prefix:"#!",getPath:function(){switch(l.prefix.charAt(0)){case"#":return a("hash").slice(l.prefix.length);case"?":return a("search").slice(l.prefix.length)+a("hash");default:return a("pathname").slice(l.prefix.length)+a("search")+a("hash")}},setPath:function(e,n,o){var a={},s={};if(e=i(e,a,s),null!=n){for(var c in n)a[c]=n[c];e=e.replace(/:([^\/]+)/g,function(t,e){return delete a[e],n[e]})}var u=d(a);u&&(e+="?"+u);var f=d(s);if(f&&(e+="#"+f),r){var p=o?o.state:null,m=o?o.title:null;t.onpopstate(),o&&o.replace?t.history.replaceState(p,m,l.prefix+e):t.history.pushState(p,m,l.prefix+e)}else t.location.href=l.prefix+e}};return l.defineRoutes=function(e,a,s){function c(){var n=l.getPath(),r={},o=i(n,r,r),c=t.history.state;if(null!=c)for(var u in c)r[u]=c[u];for(var d in e){var f=new RegExp("^"+d.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(f.test(o))return void o.replace(f,function(){for(var t=d.match(/:[^\/]+/g)||[],o=[].slice.call(arguments,1,-2),i=0;i<t.length;i++)r[t[i].replace(/:|\./g,"")]=decodeURIComponent(o[i]);a(e[d],r,n,d)})}s(n,r)}var u;r?t.onpopstate=(u=c,function(){null==n&&(n=o(function(){n=null,u()}))}):"#"===l.prefix.charAt(0)&&(t.onhashchange=c),c()},l};c.route=function(t,e){var n,o,a,i,l,s=b(t),c=function(t,c,u){if(null==t)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var d=function(){null!=n&&e.render(t,n(r(o,a.key,a)))},f=function(t){if(t===c)throw new Error("Could not resolve default route "+c);s.setPath(c,null,{replace:!0})};s.defineRoutes(u,function(t,e,r){var s=l=function(t,c){s===l&&(o=null==c||"function"!=typeof c.view&&"function"!=typeof c?"div":c,a=e,i=r,l=null,n=(t.render||function(t){return t}).bind(t),d())};t.view||"function"==typeof t?s({},t):t.onmatch?g.resolve(t.onmatch(e,r)).then(function(e){s(t,e)},f):s(t,"div")},f),e.subscribe(t,d)};return c.set=function(t,e,n){null!=l&&((n=n||{}).replace=!0),l=null,s.setPath(t,e,n)},c.get=function(){return i},c.prefix=function(t){s.prefix=t},c.link=function(t){t.dom.setAttribute("href",s.prefix+t.attrs.href),t.dom.onclick=function(t){if(!(t.ctrlKey||t.metaKey||t.shiftKey||2===t.which)){t.preventDefault(),t.redraw=!1;var e=this.getAttribute("href");0===e.indexOf(s.prefix)&&(e=e.slice(s.prefix.length)),c.set(e,void 0,void 0)}}},c.param=function(t){return void 0!==a&&void 0!==t?a[t]:a},c}(window,v),c.withAttr=function(t,e,n){return function(r){e.call(n||this,t in r.currentTarget?r.currentTarget[t]:r.currentTarget.getAttribute(t))}};var y=m(window);c.render=y.render,c.redraw=v.redraw,c.request=p.request,c.jsonp=p.jsonp,c.parseQueryString=_,c.buildQueryString=d,c.version="1.1.7",c.vnode=r,t.exports=c}()}).call(this,n(15).setImmediate,n(7))},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<t.length;o++){var i=t[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(t,e,n){var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),s=null,c=0,u=[],d=n(20);function f(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(_(r.parts[i],e))}else{var l=[];for(i=0;i<r.parts.length;i++)l.push(_(r.parts[i],e));a[r.id]={id:r.id,refs:1,parts:l}}}}function p(t,e){for(var n=[],r={},o=0;o<t.length;o++){var a=t[o],i=e.base?a[0]+e.base:a[0],l={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(l):n.push(r[i]={id:i,parts:[l]})}return n}function m(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(t.insertAt.before,n);n.insertBefore(e,o)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function h(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return g(e,t.attrs),m(t,e),e}function g(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function _(t,e){var n,r,o,a;if(e.transform&&t.css){if(!(a=e.transform(t.css)))return function(){};t.css=a}if(e.singleton){var i=c++;n=s||(s=h(e)),r=w.bind(null,n,i,!1),o=w.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),m(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,a=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||a)&&(r=d(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),l=t.href;t.href=URL.createObjectURL(i),l&&URL.revokeObjectURL(l)}.bind(null,n,e),o=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){v(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return f(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var i=n[o];(l=a[i.id]).refs--,r.push(l)}t&&f(p(t,e),e);for(o=0;o<r.length;o++){var l;if(0===(l=r[o]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete a[l.id]}}}};var b,y=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var a=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.db=e.auth=void 0;var r=c(n(14)),o=c(n(0));n(18);var a=n(21),i=n(34),l=n(37),s=n(5);function c(t){return t&&t.__esModule?t:{default:t}}var u=document.body,d=e.auth=firebase.auth(r.default);e.db=firebase.firestore();d.onAuthStateChanged(function(t){t?(s.store.user.displayName=t.displayName,s.store.user.email=t.email,s.store.user.photoURL=t.photoURL,t.getIdToken().then(function(t){return sessionStorage.setItem("token",t)})):o.default.route.set("/login")}),o.default.route(u,"/home",{"/home":a.Home,"/login":i.Login,"/app/invite":l.NewInvitation})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Icon=void 0;var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};n(26);e.Icon=function(t){return{view:function(t){return(0,a.default)(".icon",{class:t.attrs.class||"",onclick:function(e){return t.attrs.action?t.attrs.action(e):null}},[(0,a.default)("svg.icon__svg",(0,a.default)("use",{href:"/img/icons.svg#"+t.attrs.icon}))])}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.store={user:{},clients:[],invitation:[],isAdmin:!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCollectionPath=l,e.removeOneLocal=function(t,e,n){var r=t[e].filter(function(t){return t.docID!=n});t[e]=[],r[0]&&(t[e]=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r)),t[e].forEach(function(t,e){t.docID=e+1}))},e.insertOne=function(t,e){var n=Object.assign(e,{createdAt:(new Date).toISOString(),createdBy:o.auth.currentUser.uid});n.docID;delete n.docID;var r=l(t.meta.routes.collection);o.db.collection(r).add(n).then(function(){return t.new=[]}).catch(function(t){return alert(t)}).finally(function(){return i.default.redraw()})},e.saveOne=function(t,e,n){if(void 0===n)return;var r=Object.assign(e,{updatedAt:(new Date).toISOString(),updatedBy:o.auth.currentUser.uid}),a=l(t.meta.routes.collection)+"/"+n;o.db.doc(a).set(r,{merge:!0}).then(function(){return i.default.redraw()}).catch(function(t){return alert(t)})};var r,o=n(3),a=n(0),i=(r=a)&&r.__esModule?r:{default:r};function l(t){var e=t,n=e.split("/");n.length>1&&(e=n.map(function(t){if(!t.startsWith(":"))return t;switch(t){case":userID":return o.auth.currentUser.uid}}).join("/"));return e}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PageLayout=void 0;var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r},i=n(23);n(28);e.PageLayout=function(t){return{view:function(t){return(0,a.default)(".page",{class:t.attrs.class},[(0,a.default)(i.TopBar),t.children])}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CardLayout=void 0;var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};n(30);var i=n(12);e.CardLayout=function(t){return{onbeforeremove:function(t){return(0,i.hideAnimation)(t)},view:function(t){return(0,a.default)(".card fade-in",{class:t.attrs.class},t.children)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayEquals=function(t,e){var n=!0;return t.length==e.length&&(t.forEach(function(t){e.includes(t)||(n=n&&!1)}),n)};var r=e.dateInDays=function(t){return parseInt(t/864e5)};e.distDays=function(t,e){return r(e)-r(t)},e.dateFormatDMY=function(t){var e=t.getFullYear(),n=t.getMonth();n++,Number(n).toString()<10&&(n="0"+n);var r=t.getDate();return Number(r).toString()<10&&(r="0"+r),isNaN(e)||isNaN(n)||isNaN(r)?"":r+"/"+n+"/"+e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setAdminUser=e.setCurrentUser=e.loginWithEmail=e.loginWithGooglePopUp=void 0;var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r},i=n(22),l=n(3),s=n(5);e.loginWithGooglePopUp=async function(){try{await l.auth.signInWithRedirect(i.googleProvider);var t=await l.auth.getRedirectResult();await c(t),await u(t),await d(t.user)}catch(t){console.error(t)}},e.loginWithEmail=async function(t,e){try{var n=await l.auth.signInWithEmailAndPassword(t,e);await c(n),await u(n),await d(n.user)}catch(n){if(console.error(n),"auth/user-not-found"===n.code){var r=await l.auth.createUserWithEmailAndPassword(t,e);await c(r)?(s.store.isAdmin=!0,await f(r.user)):(await u(r),await d(r.user))}}};var c=async function(t){var e=l.db.doc("users/"+t.user.uid),n=await e.get();if(n.exists||await e.set({displayName:t.user.displayName,email:t.user.email,photoURL:t.user.photoURL},{merge:!0}),!0===n.data().isAdmin)return!0},u=async function(t){var e=l.db.doc("clients/"+t.user.uid);(await e.get()).exists||await e.set({clientName:t.user.displayName,clientEmail:t.user.email},{merge:!0})},d=e.setCurrentUser=async function(t){s.store.user.displayName=t.displayName,s.store.user.email=t.email,s.store.user.photoURL=t.photoURL;var e=await t.getIdToken();sessionStorage.setItem("token",e),a.default.route.set("/app/invite"),a.default.redraw()},f=e.setAdminUser=async function(t){s.store.user.displayName=t.displayName,s.store.user.email=t.email,s.store.user.photoURL=t.photoURL;var e=await t.getIdToken();sessionStorage.setItem("token",e),a.default.route.set("/app/invite"),a.default.redraw()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hideAnimation=function(t,e){return t.dom.classList.remove("fade-in"),t.dom.classList.add("fade-out"),new Promise(function(e){return t.dom.addEventListener("animationend",e)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.AFTER_TODAY="after_today",e.AFTER_DATE="after_date",e.BEFORE_DATE="before_date",e.NOT_DATES="not_date",e.IS_DATES="is_dates",e.NOT_DAYS="not_days",e.IS_DAYS="is_days"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.app=firebase.initializeApp({apiKey:"AIzaSyAeRYuZjCZoDT6ZTpCa5CbKvTmdo2YT77k",authDomain:"dogayalon.firebaseapp.com",databaseURL:"https://dogayalon.firebaseio.com",projectId:"dogayalon",storageBucket:"dogayalon.appspot.com",messagingSenderId:"498220995374",appId:"1:498220995374:web:3fc5135bffdd662f6360bf",measurementId:"G-J6C0C42KJC"})},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new a(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(16),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(7))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,a,i,l,s=1,c={},u=!1,d=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){m(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){m(t.data)},r=function(t){a.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(t){var e=d.createElement("script");e.onreadystatechange=function(){m(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(m,0,t)}:(i="setImmediate$"+Math.random()+"$",l=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(i)&&m(+e.data.slice(i.length))},t.addEventListener?t.addEventListener("message",l,!1):t.attachEvent("onmessage",l),r=function(e){t.postMessage(i+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return c[s]=o,r(s),s++},f.clearImmediate=p}function p(t){delete c[t]}function m(t){if(u)setTimeout(m,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{p(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(7),n(17))},function(t,e){var n,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var s,c=[],u=!1,d=-1;function f(){u&&s&&(u=!1,s.length?c=s.concat(c):d=-1,c.length&&p())}function p(){if(!u){var t=l(f);u=!0;for(var e=c.length;e;){for(s=c,c=[];++d<e;)s&&s[d].run();d=-1,e=c.length}s=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||u||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(19);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,':root {\n  --dir: rtl;\n  --lang: "he";\n  --color-bg-layout: #ecf0f6;\n  --color-bg-1: #d3d3d3a1;\n  --color-bg-2: #d3d3d380;\n  --color-bg-3: #ecf0f661;\n  --color-non-active: #a2a2c4;\n  --color-txt-p: #234aa9;\n  --color-txt-p-light: #2349a99f;\n  --color-txt-p-trs: #2349a94d;\n  --color-txt-p-dark: #333666;\n  --color-bg-dark: #333666;\n  --color-bg-md: #007dd7;\n  --color-red: #eb2f64;\n  --color-red-trs: #ea2e6399;\n  --color-gray: #222;\n  --color-gray-1: #888;\n  --color-gray-2: #d3d3d3;\n  --color-white: #fff;\n  --color-black: #000;\n  --def-font-size: 1.6rem;\n  --def-font-family: Rubik, "Tahoma", sans-serif;\n  --font-family-1: var(--def-font-family);\n  --font-family-2: Alef, "Tahoma", sans-serif;\n  --font-w-1: 300;\n  --font-w-2: 400;\n  --font-w-3: 700;\n  --box-shadow-light: 0 1rem 2rem rgba(0, 0, 0, 0.1);\n  --box-shadow-1: 0 1rem 2rem rgba(0, 0, 0, 0.2);\n  --box-shadow-2: 0 0.5rem 1rem rgba(0, 0, 0, 0.4);\n  --box-shadow-3: 0.1rem 0.9rem 2rem rgba(0, 0, 0, 0.4); }\n\n/* GLOBAL RESET */\n* {\n  padding: 0;\n  margin: 0; }\n  *, *::before, *::after {\n    font-size: 62.5%;\n    box-sizing: border-box; }\n    @media screen and (max-width: 360px) {\n      *, *::before, *::after {\n        font-size: 50%; } }\n\nbody {\n  direction: var(--dir);\n  font-family: var(--def-font-family), sans-serif;\n  font-weight: var(--font-w-1);\n  font-size: 3rem;\n  line-height: 1.8;\n  user-select: none; }\n\n.button {\n  border: none;\n  outline: none;\n  font-size: 1.8rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.4rem;\n  border-radius: 1rem;\n  transition: transform 0.2s;\n  cursor: pointer; }\n  .button button.button--red {\n    background-color: var(--color-red); }\n  .button--add {\n    background: var(--color-bg-dark);\n    color: var(--color-white); }\n  .button:hover {\n    transform: scale(1.1);\n    box-shadow: var(--box-shadow-light); }\n  .button:active {\n    opacity: .9;\n    transform: scale(1);\n    box-shadow: none; }\n\n@keyframes shake {\n  10%,\n  90% {\n    transform: translate3d(-1px, 0, 0); }\n  20%,\n  80% {\n    transform: translate3d(2px, 0, 0); }\n  30%,\n  50%,\n  70% {\n    transform: translate3d(-4px, 0, 0); }\n  40%,\n  60% {\n    transform: translate3d(4px, 0, 0); } }\n\n.fade-in {\n  animation: fade-in 0.5s ease-in; }\n\n@keyframes fade-in {\n  0% {\n    transform: translateX(-60%);\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n\n.fade-out {\n  animation: fade-out 0.4s ease-out; }\n\n@keyframes fade-out {\n  0% {\n    transform: translateX(0%);\n    opacity: 1; }\n  100% {\n    transform: translateX(100%);\n    opacity: 0; } }\n\n.show {\n  animation: show 0.5s ease-out; }\n\n@keyframes show {\n  0% {\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n\n.hide {\n  animation: hide 0.4s ease-out; }\n\n@keyframes hide {\n  0% {\n    opacity: 1; }\n  100% {\n    opacity: 0; } }\n\n@keyframes moveInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(-10rem); }\n  80% {\n    transform: translateX(1rem); }\n  100% {\n    opacity: 1;\n    transform: translate(0); } }\n\n@keyframes moveInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(10rem); }\n  80% {\n    transform: translateX(-1rem); }\n  100% {\n    opacity: 1;\n    transform: translate(0); } }\n\n@keyframes moveInBottom {\n  0% {\n    opacity: 0;\n    transform: translateY(3rem); }\n  100% {\n    opacity: 1;\n    transform: translate(0); } }\n',""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,a=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Home=void 0;var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r},i=(n(11),n(8)),l=n(9);n(32);var s=n(3);e.Home=function(t){var e=[{src:"/img/dogBg.jpg"},{src:"/img/dogProfile.png"}];return{isLoggedIn:!1,isLoading:!0,oninit:function(t){t.state.isLoading=!0,setTimeout(function(){null===s.auth.currentUser?t.state.isLoggedIn=!1:t.state.isLoggedIn=!0,t.state.isLoading=!1,a.default.redraw()},2e3)},img:e[0],view:function(n){return(0,a.default)(i.PageLayout,{class:"home"},[(0,a.default)(l.CardLayout,{class:"welcome"},(0,a.default)(".welcome__title","ברוכים הבאים לפנסיון הכלבים של חוות עמק איילון"),n.state.isLoading?null:n.state.isLoggedIn?(0,a.default)(".welcome__login-link",{onclick:function(t){return a.default.route.set("/app/invite")}},"להזמנת מקום לפנסיון"):(0,a.default)(".welcome__login-link",{onclick:function(t){return a.default.route.set("/login")}},"להתחברות לחץ כאן")),(0,a.default)(l.CardLayout,{class:"photos"},(0,a.default)("img",{src:n.state.img.src,onclick:function(n){var r;-1!==(r=e.findIndex(function(e){return e.src===t.state.img.src}))&&(r===e.length-1?t.state.img=e[0]:t.state.img=e[r+1])}}),(0,a.default)(".photos__nav",[e.map(function(e){return(0,a.default)('.photos__nav-link[data-src="'+e.src+'"][data-active="'+function(e){return t.state.img.src===e.src}(e)+'"]',{onclick:function(t){return n.state.img=e}})})]))])}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.googleProvider=new firebase.auth.GoogleAuthProvider;r.addScope("https://www.googleapis.com/auth/contacts.readonly"),r.setCustomParameters({login_hint:"user@example.com"})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TopBar=void 0;var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};n(24);var i=n(5),l=n(3),s=n(4);e.TopBar=function(t){var e=[{text:"בית",icon:"icon-home",action:function(t){return a.default.route.set("/home")},isActive:"/home"===a.default.route.get()},{text:"הזמנות פנסיון",icon:"icon-dog",action:function(t){return a.default.route.set("/app/invite")},isActive:"/app/invite"===a.default.route.get()}],n=function(e){return t.state[e]=!t.state[e]};return{oninit:function(t){setTimeout(function(){t.state.photoURL=i.store.user.photoURL||"img/noUser.jpg",a.default.redraw()},1500)},onupdate:function(t){t.state.photoURL=i.store.user.photoURL||"img/noUser.jpg"},mainMenu:!1,userMenu:!1,view:function(t){return(0,a.default)(".topBar",[(0,a.default)(s.Icon,{icon:"icon-menu",class:"menu__button",action:function(t){return n("mainMenu")}}),t.state.mainMenu&&(0,a.default)(".menu__popUp",{onclick:function(t){return n("mainMenu")}},(0,a.default)(".menu__box",{onclick:function(t){return t.stopPropagation()}},(0,a.default)(".menu__title",(0,a.default)(s.Icon,{icon:"icon-x",action:function(t){return n("mainMenu")}}),"תפריט ראשי"),e.map(function(t){return(0,a.default)(".menu__item",{onclick:function(e){return t.action(e)}},(0,a.default)(".menu__item-text",t.text),t.icon&&(0,a.default)(s.Icon,{icon:t.icon}))}),(0,a.default)(".menu__item .menu__item--logout",{onclick:function(t){return l.auth.signOut()}},(0,a.default)(".menu__item-text","התנתק")))),(0,a.default)(".user",{onclick:function(t){return n("userMenu")}},(0,a.default)("img.user__img",{src:t.state.photoURL}))])}}}},function(t,e,n){var r=n(25);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".topBar {\n  position: sticky;\n  min-width: 100vw;\n  justify-self: stretch;\n  padding: 1rem;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  background-color: #fff;\n  box-shadow: var(--box-shadow-light);\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-columns: 1fr 1fr; }\n\n.user {\n  align-self: center;\n  justify-self: flex-end; }\n  .user__img {\n    width: 5rem;\n    border-radius: 50%; }\n\n.menu__button {\n  cursor: pointer;\n  justify-self: flex-start;\n  align-self: center;\n  width: 5rem;\n  height: 5rem;\n  transition: transform 0.2s ease-in-out; }\n  .menu__button:hover {\n    transform: scale(1.1); }\n  .menu__button:active {\n    transform: scale(1); }\n  .menu__button .icon__svg {\n    width: 5rem;\n    height: 5rem; }\n\n.menu__popUp {\n  position: absolute;\n  z-index: 5000;\n  background-color: rgba(0, 0, 0, 0.3);\n  height: 100vh;\n  width: 100vw;\n  top: 0;\n  right: 0; }\n\n.menu__box {\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100%;\n  min-width: 30rem;\n  background-color: white;\n  display: grid;\n  align-items: flex-start;\n  align-content: start; }\n\n.menu__title {\n  height: 5rem;\n  display: flex;\n  align-items: center;\n  font-size: 2rem;\n  background-color: var(--color-bg-md);\n  color: white;\n  align-self: start;\n  display: flex;\n  align-items: center; }\n  .menu__title .icon {\n    margin-left: 1rem;\n    height: 100%;\n    cursor: pointer; }\n    .menu__title .icon__svg {\n      fill: white;\n      transition: all 0.2s ease-in-out; }\n      .menu__title .icon__svg:hover {\n        transform: scale(1.3); }\n      .menu__title .icon__svg:active {\n        transform: scale(1); }\n\n.menu__item {\n  padding: 1rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center; }\n  .menu__item:hover {\n    background-color: var(--color-bg-2); }\n  .menu__item-text {\n    font-size: 2rem;\n    color: var(--color-non-active);\n    flex: 1;\n    margin-left: .5rem; }\n  .menu__item--logout {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%; }\n  .menu__item--logout .menu__item-text {\n    font-weight: 600;\n    color: var(--color-red); }\n",""])},function(t,e,n){var r=n(27);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".icon {\n  width: 3rem;\n  height: 3rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: var(--color-non-active); }\n  .icon__svg {\n    width: 2rem;\n    height: 2rem;\n    fill: currentColor; }\n  .icon--action {\n    background-color: var(--color-bg-2);\n    border-radius: 3rem;\n    cursor: pointer;\n    transition: transform 0.2s;\n    color: var(--color-txt-p); }\n",""])},function(t,e,n){var r=n(29);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".page {\n  position: relative;\n  display: grid;\n  gap: 2rem;\n  min-height: 100vh;\n  justify-content: center;\n  justify-items: center;\n  align-content: start;\n  text-align: center;\n  background-color: var(--color-bg-layout); }\n",""])},function(t,e,n){var r=n(31);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".card {\n  padding: 3rem;\n  background-color: var(--color-white);\n  border-radius: 2rem;\n  box-shadow: var(--box-shadow-light);\n  font: inherit; }\n  @media only screen and (max-width: 360px) {\n    .card {\n      padding: 1rem .5rem 1rem .5rem; } }\n  .card.new {\n    background-color: var(--color-bg-1); }\n  .card.addNew div {\n    cursor: pointer;\n    font-size: 2rem;\n    color: var(--color-txt-p);\n    border-radius: 1rem;\n    padding: 1rem; }\n    .card.addNew div:hover {\n      background-color: var(--color-bg-3); }\n",""])},function(t,e,n){var r=n(33);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'.home .photos {\n  display: grid;\n  gap: 1rem; }\n  .home .photos img {\n    width: 50vh;\n    height: 50vh;\n    object-fit: cover;\n    max-width: 90vw;\n    border-radius: 3rem;\n    cursor: pointer; }\n  .home .photos__nav {\n    align-self: flex-end;\n    display: grid;\n    grid-auto-flow: column;\n    justify-items: center;\n    justify-content: center;\n    cursor: pointer;\n    gap: 1rem; }\n    .home .photos__nav-link {\n      width: 2rem;\n      height: 2rem;\n      background-color: var(--color-gray-2);\n      border: 0.5px solid var(--color-gray-2);\n      border-radius: 50%;\n      box-shadow: var(--box-shadow-light);\n      transition: all 0.2s ease-in-out; }\n      .home .photos__nav-link[data-active="true"] {\n        background-color: var(--color-gray-1);\n        transform: scale(1.3); }\n\n.home .welcome__title {\n  font-size: 2rem;\n  font: inherit;\n  font-size: 3rem; }\n\n.home .welcome__login-link {\n  font: inherit;\n  color: cornflowerblue;\n  cursor: pointer; }\n  .home .welcome__login-link:hover {\n    text-decoration: underline; }\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Login=void 0;var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r},i=n(11),l=n(8),s=n(9);n(35);var c=n(4),u=n(3);e.Login=function(t){return{email:"",password:"",hidePass:!0,isUser:!1,oninit:function(t){Promise.resolve(setTimeout(function(){if(null!==u.auth.currentUser)return(0,i.setCurrentUser)(u.auth.currentUser)},1500)).finally(function(){return a.default.redraw()})},view:function(e){return(0,a.default)(l.PageLayout,{class:"login"},(0,a.default)(".back",{onclick:function(t){return a.default.route.set("/home")}},"חזרה"),(0,a.default)(s.CardLayout,{class:"login__card"},(0,a.default)("form.login__form",{onsubmit:function(t){return t.preventDefault()}},[(0,a.default)(".login__title","התחבר עם סיסמא"),(0,a.default)(".login__row input",(0,a.default)("label.input__label","אימייל"),(0,a.default)("input.input__field [required] [type=email] [autocomplete=username]",{value:e.state.email,oninput:function(t){return e.state.email=t.target.value}})),(0,a.default)(".login__row input",(0,a.default)("label.input__label","סיסמא"),(0,a.default)("input.login__password input__field [required] [type="+(e.state.hidePass?"password":"text")+"][autocomplete=current-password]",{value:e.state.password,oninput:function(t){return e.state.password=t.target.value}}),(0,a.default)(c.Icon,{icon:"icon-"+(e.state.hidePass?"hide":"show"),action:function(t){return e.state.hidePass=!e.state.hidePass}})),(0,a.default)("button.button",{onclick:function(e){return function(){if(""!==t.state.email.trim()&&""!==t.state.password.trim())return(0,i.loginWithEmail)(t.state.email,t.state.password)}()}},"התחבר")])))}}}},function(t,e,n){var r=n(36);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".login .back {\n  font: inherit;\n  font-size: 2rem;\n  font-weight: 400;\n  color: cornflowerblue;\n  cursor: pointer;\n  justify-self: start; }\n  .login .back:hover {\n    text-decoration: underline; }\n\n.login__title {\n  font: inherit;\n  font-size: 3rem; }\n\n.login__form {\n  display: grid;\n  gap: 1rem; }\n  .login__form .button {\n    outline: none;\n    border: none;\n    background-color: #fff;\n    border-radius: 1rem;\n    padding: 1rem;\n    box-shadow: var(--box-shadow-1);\n    cursor: pointer; }\n    .login__form .button img {\n      width: 4rem; }\n\n.login .input .icon {\n  position: absolute;\n  bottom: 50%;\n  transform: translateY(100%); }\n",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NewInvitation=void 0;var r,o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(0),i=(r=a)&&r.__esModule?r:{default:r},l=n(8),s=n(9),c=n(4);n(38);var u=n(3),d=(n(5),n(40)),f=n(41),p=n(44),m=n(47),v=n(6),h=n(50),g=n(53),_=n(10),b=n(13),y=n(56),w=n(59),x=(n(12),n(60));function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.NewInvitation=function(t){var e="text",n="select",r="hidden",a="date",T={meta:{routes:{collection:"clients/:userID/dogs"}},headers:{dogName:{label:"שם הכלב",type:e},dogGender:{label:"מין",type:n,options:{male:"זכר",female:"נקבה",maleB:"זכר - מסורס",femaleB:"נקבה - מעוקרת"}},dogBreed:{label:"גזע",type:n,options:{poodel:"פודל",mixed:"מעורב"}},dogPhoto:{label:"תמונה",type:"hidden"},dob:{label:"תאריך לידה",type:a}},data:[],new:[],addNew:function(){return T.new.push({docID:T.new.length+1,dogName:"",dogGender:"",dogBreed:"",dob:""})}},D={meta:{routes:{collection:"clients"}},headers:{clientName:{label:"שם",type:e},clientEmail:{label:"אימייל",type:e,disabled:!0},clientPhone:{label:"טלפון"}},data:[],new:[],current:{},addNew:function(){return D.new.push({docID:D.new.length+1,clientName:"",clientEmail:"",clientPhone:""})}},O={meta:{routes:{collection:"clients/:userID/contacts"}},headers:{contactName:{label:"שם",type:e},contactEmail:{label:"אימייל",type:e},contactPhone:{label:"טלפון"}},data:[],new:[],addNew:function(){return O.new.push({docID:O.new.length+1,contactName:"",contactEmail:"",contactPhone:""})}},E={meta:{routes:{collection:"clients/:userID/invitations"}},headers:{dogs:{label:"כלבים"},contacts:{label:"אנשי קשר"},sDate:{label:"מתאריך"},sTime:{label:"משעה",type:"time"},eDate:{label:"ועד תאריך"},eTime:{label:"עד שעה",type:"time"}},current:{dogs:[],contacts:[],sDate:"",eDate:"",sTime:"",eTime:""},data:[],addNew:function(){E.current={dogs:[],contacts:[],sDate:"",eDate:"",sTime:"",eTime:"",status:w.invitationStatus.NEW},t.state.displayInvitation="new"}},j=function(t,e){var n=E.current[t].findIndex(function(t){return t===e});-1===n?E.current[t].push(e):E.current[t].splice(n,1)},S=function(e){t.state.cardsDisplay[e]=!t.state.cardsDisplay[e]},A=function(e,n){return t.state.filterList[e].includes(n)},C=function(t){var e=E.data.filter(function(e){return e.status===t});if(e.length>0)return e.length},P=function(t,e,n){var r=new Date(t[e]);if(n){var o=new Date(t["update__"+e]),a=(0,_.distDays)(r,o);return{original:{date:r,dateText:(0,_.dateFormatDMY)(r)||"",weekDay:w.daysOfWeek[r.getDay()].label},diff:{type:a>0?"after":"before",count:Math.abs(a)},date:o,dateText:(0,_.dateFormatDMY)(o)||"",weekDay:w.daysOfWeek[o.getDay()].label}}return{date:r,dateText:(0,_.dateFormatDMY)(r)||"",weekDay:w.daysOfWeek[r.getDay()].label}},M=function(t){var e=""!==E.current.sDate&&""!==E.current.eDate,n=E.current.dogs.length>0;return t&&"dates"===t?e:t&&"dogs"===t?n:!(!t||"terms"!==t)||e&&n&&!0},U=function(){try{var e={status:w.invitationStatus.UPDATE_SENT},n=E.data.find(function(t){return t.docID===E.current.invitationRef});if(!n)return;Object.entries(E.current).forEach(function(t){var r=o(t,2),a=r[0],i=r[1],l="update__"+a;"invitationRef"!==a&&("contacts"===a?(0,_.isArrayEquals)(i,n.contacts)||(e.contacts=E.current.contacts.map(function(t){return t})):"dogs"===a?(0,_.isArrayEquals)(i,n.dogs)||(e[l]=E.current.dogs.map(function(t){return t})):"sTime"===a||"eTime"===a?e[a]=i:E.current[a]!==n[a]&&(e[l]=E.current[a]))}),Promise.resolve((0,v.saveOne)(E,e,E.current.invitationRef)).then(function(){return t.state.displayInvitation="all"})}catch(t){console.error(t)}};return Promise.resolve(setTimeout(function(){null!==u.auth.currentUser?((0,d.docListener)("clients","clients/"+u.auth.currentUser.uid,D.data),(0,d.queryListener)(O.data,u.db.collection("clients/"+u.auth.currentUser.uid+"/contacts")),(0,d.queryListener)(T.data,u.db.collection("clients/"+u.auth.currentUser.uid+"/dogs")),(0,d.queryListener)(E.data,u.db.collection("clients/"+u.auth.currentUser.uid+"/invitations"))):i.default.route.set("/login")},2e3)).then(function(){return i.default.redraw()}),{filterListTerm:[],filterList:{status:[w.invitationStatus.NEW,w.invitationStatus.UPDATE_SENT,w.invitationStatus.CONFIRM,w.invitationStatus.REJECT]},currentTab:"contacts",displayInvitation:"all",showCalendar:!1,cardsDisplay:{dates:!0,invitationFilters:!0},view:function(e){var u,d;return(0,i.default)(l.PageLayout,{class:"invite"},[(0,i.default)(".invite__title","הזמנת מקום לפנסיון"),(0,i.default)(f.Tabs,{parent:e,tabObj:{contacts:{label:"פרטי קשר",icon:"icon-users"},dogs:{label:"כלבים",icon:"icon-dog"},invitation:{label:"הזמנות",icon:"icon-calendar"}}}),!1!==e.state.showCalendar&&(0,i.default)(g.CalendarInput,{parent:e,saveOnClick:e.state.showCalendar.saveOnClick,model:e.state.showCalendar.model,doc:e.state.showCalendar.doc,inputKey:e.state.showCalendar.inputKey,label:e.state.showCalendar.label,rules:e.state.showCalendar.rules}),"contacts"===e.state.currentTab&&(0,i.default)(".owner group",[(0,i.default)(".group__title","פרטי קשר:"),(0,i.default)(s.CardLayout,[(0,i.default)(p.Caption,{text:"בעלים"}),[].concat(I(D.data)).map(function(t){return Object.entries(D.headers).map(function(e){var n=o(e,2),r=n[0],a=n[1];return(0,i.default)(m.Input,{model:D,doc:t,headerKey:r,headerObj:a})})})]),[].concat(I(O.data)).map(function(t,e){return(0,i.default)(s.CardLayout,[(0,i.default)(p.Caption,{text:"איש קשר ["+(e+1)+"]",icon:"icon-triangle-down",iconClass:"icon--action"}),Object.entries(O.headers).map(function(e){var n=o(e,2),r=n[0],a=n[1];return(0,i.default)(m.Input,{model:O,doc:t,headerKey:r,headerObj:a})})])}),[].concat(I(O.new)).map(function(t,e){return(0,i.default)(s.CardLayout,{class:"new"},[(0,i.default)(p.Caption,{text:"איש קשר נוסף["+t.docID+"]"}),Object.entries(O.headers).map(function(e){var n=o(e,2),r=n[0],a=n[1];return(0,i.default)(m.Input,{model:O,doc:t,headerKey:r,headerObj:a,isNew:!0})}),(0,i.default)(".buttons",[(0,i.default)("span.button__text.button__text--remove",{onclick:function(e){return(0,v.removeOneLocal)(O,"new",t.docID)}},"מחק"),(0,i.default)("span.button__text.button__text--add",{onclick:function(e){return(0,v.insertOne)(O,t)}},"הוסף")])])}),(0,i.default)(s.CardLayout,{class:"addNew"},(0,i.default)(".",{onclick:function(t){return O.addNew()}},"+ הוסף איש קשר"))]),"dogs"===e.state.currentTab&&(0,i.default)(".group group--dogs",[(0,i.default)(".group__title","כלבים:"),[].concat(I(T.data)).map(function(t,l){return(0,i.default)(s.CardLayout,[(0,i.default)(y.FileUpload,{path:(0,v.getCollectionPath)(T.meta.routes.collection)+"/"+t.docID,inputKey:"dogPhoto",value:t.dogPhoto||""}),Object.entries(T.headers).map(function(s,c){var u=o(s,2),d=u[0],f=u[1];switch(!0){case f.type===n:return(0,i.default)(h.SelectInput,{model:T,doc:t,index:l,headerKey:d,headerObj:f});case f.type===a:return(0,i.default)(x.CalendarField,{saveOnClick:!0,model:T,doc:t,inputKey:d,label:f.label,rules:k({},b.BEFORE_DATE,(new Date).toString()),parent:e});case f.type===r:return null;default:return(0,i.default)(m.Input,{model:T,doc:t,headerKey:d,headerObj:f})}})])}),[].concat(I(T.new)).map(function(t,l){return(0,i.default)(s.CardLayout,{class:"new"},[(0,i.default)(p.Caption,{text:"כלב נוסף["+t.docID+"]"}),Object.entries(T.headers).map(function(s,c){var u=o(s,2),d=u[0],f=u[1];switch(!0){case f.type===n:return(0,i.default)(h.SelectInput,{doc:t,index:l,headerKey:d,headerObj:f,isNew:!0});case f.type===a:return(0,i.default)(x.CalendarField,{doc:t,inputKey:d,label:f.label,rules:k({},b.BEFORE_DATE,(new Date).toString()),parent:e});case f.type===r:return null;default:return(0,i.default)(m.Input,{model:T,doc:t,headerKey:d,headerObj:f,isNew:!0})}}),(0,i.default)(".buttons",[(0,i.default)("span.button__text.button__text--remove",{onclick:function(e){return(0,v.removeOneLocal)(T,"new",t.docID)}},"מחק"),(0,i.default)("span.button__text.button__text--add",{onclick:function(e){return(0,v.insertOne)(T,t)}},"הוסף")])])}),(0,i.default)(s.CardLayout,{class:"addNew"},(0,i.default)(".",{onclick:function(t){return T.addNew()}},"+ הוסף כלב"))]),"invitation"===e.state.currentTab&&"all"===e.state.displayInvitation&&(0,i.default)(".group group--invitation",[(0,i.default)(".group__title","ההזמנות שלי:",(0,i.default)(c.Icon,{class:e.state.cardsDisplay.invitationFilters?"":"icon--action",icon:"icon-filter",action:function(t){return S("invitationFilters")}})),e.state.cardsDisplay.invitationFilters&&(0,i.default)(".filters",[(0,i.default)(".filters__row",(0,i.default)(".filters__caption","סטטוס: "),[w.invitationStatus.NEW,w.invitationStatus.UPDATE_SENT,w.invitationStatus.CONFIRM,w.invitationStatus.REJECT,w.invitationStatus.REMOVE_BY_USER,w.invitationStatus.ACTIVE,w.invitationStatus.DONE].map(function(e){return C(e)?(0,i.default)(".filters__status",{onclick:function(n){return r="status",o=e,void((a=t.state.filterList[r].indexOf(o))>-1?t.state.filterList[r].splice(a,1):t.state.filterList[r].push(o));var r,o,a},class:A("status",e)?"filters__status--active":""},w.invitationStatus[e].label,(0,i.default)("span.counter",C(e))):null}))]),E.data.map(function(e){if(n="status",t.state.filterList[n].length>0&&!A("status",e.status))return null;var n,r=w.invitationStatus[e.status],o=e.status===w.invitationStatus.UPDATE_SENT&&Object.keys(e).some(function(t){return t.startsWith("update__")}),a=P(e,"sDate",o&&e.update__sDate&&e.update__sDate!==e.sDate),l=P(e,"eDate",o&&e.update__eDate&&e.update__eDate!==e.eDate);return(0,i.default)(s.CardLayout,{class:"invitation "+(e.status===w.invitationStatus.REMOVE_BY_USER?"invitation--deleted":"")},(0,i.default)("input[hidden]",{"data-id":e.docID}),(0,i.default)(c.Icon,{icon:"icon-launch",class:"icon--action",action:function(n){return r=e.docID,void(null!==(o=E.data.find(function(t){return t.docID===r}))&&(E.current.dogs=o.dogs.map(function(t){return T.data.find(function(e){return e.docID===t})}).filter(function(t){return null!==t}).map(function(t){return t.docID}),E.current.contacts=o.contacts.map(function(t){return O.data.find(function(e){return e.docID===t})}).filter(function(t){return null!==t}).map(function(t){return t.docID}),E.current.status=o.status,E.current.sDate=o.sDate,E.current.eDate=o.eDate,E.current.sTime=o.sTime,E.current.eTime=o.eTime,E.current.invitationRef=r,t.state.displayInvitation="edit"));var r,o}}),(0,i.default)(".invitation__dogs",e.dogs.map(function(t){var n=T.data.find(function(e){return e.docID===t}),r=o&&e.update__dogs&&!e.update__dogs.includes(t);return(0,i.default)(".invitation__dog "+(r?"invitation__dog--removed":""),(0,i.default)(y.FileUpload,{path:(0,v.getCollectionPath)(T.meta.routes.collection)+"/"+n.docID,inputKey:"dogPhoto",value:n.dogPhoto||""}),(0,i.default)(".invitation__dog-caption",n.dogName))}),o&&e.update__dogs&&e.update__dogs.map(function(t){var n=T.data.find(function(e){return e.docID===t});return!e.dogs.includes(t)&&(0,i.default)(".invitation__dog invitation__dog--added",(0,i.default)(y.FileUpload,{path:(0,v.getCollectionPath)(T.meta.routes.collection)+"/"+n.docID,inputKey:"dogPhoto",value:n.dogPhoto||""}),(0,i.default)(".invitation__dog-caption",n.dogName))})),e.status&&(0,i.default)(".invitation__status",(0,i.default)(".invitation__status-text",{style:{color:r.color}},r.label)),(0,i.default)(".invitation__dates",(0,i.default)(".invitation__date",{class:a.diff?"invitation__date--update":"","data-type":a.diff?a.diff.type:"none","data-count":a.diff?a.diff.count:"none"},(0,i.default)("span.invitation__date-text",a.dateText),(0,i.default)("span.invitation__date-day",a.weekDay),(0,i.default)("span.invitation__date-time",""===e.sTime?"--:--":e.sTime)),(0,i.default)(".invitation__arrow",(0,i.default)(c.Icon,{icon:"icon-arrow-left"}),(0,i.default)(".invitation__totalDays",(0,_.distDays)(a.date,l.date)+" יום")),(0,i.default)(".invitation__date",{class:l.diff?"invitation__date--update":"","data-type":l.diff?l.diff.type:"none","data-count":l.diff?l.diff.count:"none"},(0,i.default)("span.invitation__date-text",l.dateText),(0,i.default)("span.invitation__date-day",l.weekDay),(0,i.default)("span.invitation__date-time",""===e.eTime?"--:--":e.eTime))))}),(0,i.default)(s.CardLayout,{class:"addNew"},(0,i.default)(".",{onclick:function(t){return E.addNew()}},"+ הוסף הזמנה"))]),"invitation"===e.state.currentTab&&("new"===e.state.displayInvitation||"edit"===e.state.displayInvitation)&&(0,i.default)(".group group--invitation",[(0,i.default)(".group__title",[(0,i.default)(c.Icon,{icon:"icon-arrow-right",class:"icon--right icon--action",action:function(t){return e.state.displayInvitation="all"}}),"edit"===e.state.displayInvitation?"עריכת פרטי ההזמנה:":"הזמנה חדשה:"]),(0,i.default)(s.CardLayout,(0,i.default)(p.Caption,{text:"אנשי קשר"}),(0,i.default)(".row row--active",(0,i.default)(".row__cell",(0,i.default)(".checkBox",(0,i.default)(c.Icon,{icon:"icon-check"}))),(0,i.default)(".row__cell",D.data[0].clientName)),[].concat(I(O.data)).map(function(t){var e=E.current.contacts.includes(t.docID);return(0,i.default)(".row",{onclick:function(e){return j("contacts",t.docID)},class:e?"row--active":""},(0,i.default)(".row__cell",(0,i.default)(".checkBox",e&&(0,i.default)(c.Icon,{icon:"icon-check"}))),(0,i.default)(".row__cell",t.contactName))})),(0,i.default)(s.CardLayout,(0,i.default)(p.Caption,{text:"כלבים"}),[].concat(I(T.data)).map(function(t){var e=E.current.dogs.includes(t.docID);return(0,i.default)(".row",{onclick:function(e){return j("dogs",t.docID)},class:e?"row--active":""},(0,i.default)(".row__cell",(0,i.default)(".checkBox",{class:e?"":"checkBox--invalid"},e&&(0,i.default)(c.Icon,{icon:"icon-check"}))),(0,i.default)(".row__cell",t.dogName))})),(0,i.default)(s.CardLayout,{class:"dates"},(0,i.default)(p.Caption,{text:"תאריכים",action:function(t){return S("dates")},icon:!0!==e.state.cardsDisplay.dates&&"icon-chevron-thin-up"}),e.state.cardsDisplay.dates&&[(0,i.default)(x.CalendarField,{doc:E.current,inputKey:"sDate",label:"מתאריך: ",rules:(u={},k(u,b.AFTER_TODAY,!0),k(u,b.BEFORE_DATE,E.current.eDate),k(u,b.NOT_DAYS,[7]),u),parent:e}),(0,i.default)(m.Input,{model:E,doc:E.current,headerKey:"sTime",headerObj:E.headers.sTime,isNew:!0}),(0,i.default)(x.CalendarField,{doc:E.current,inputKey:"eDate",label:"עד תאריך:",rules:(d={},k(d,b.AFTER_TODAY,!0),k(d,b.AFTER_DATE,E.current.sDate),k(d,b.NOT_DAYS,[7]),d),parent:e}),(0,i.default)(m.Input,{model:E,doc:E.current,headerKey:"eTime",headerObj:E.headers.eTime,isNew:!0})]),(0,i.default)(".buttons",M()&&"new"===e.state.displayInvitation&&E.current.status===w.invitationStatus.NEW&&(0,i.default)("button.button send",{onclick:function(e){return function(){try{Promise.resolve((0,v.insertOne)(E,Object.assign({status:"new"},E.current))).then(function(){return t.state.displayInvitation="all"})}catch(t){console.error(t)}}()}},"שלח הזמנה"),M()&&"edit"===e.state.displayInvitation&&E.current.status!==w.invitationStatus.REMOVE_BY_USER&&(0,i.default)("button.button send",{onclick:function(t){return U()}},"שלח עדכון"),M()&&"edit"===e.state.displayInvitation&&E.current.status!==w.invitationStatus.REMOVE_BY_USER&&(0,i.default)("button.button send button--red",{onclick:function(e){return function(){try{var e={status:w.invitationStatus.REMOVE_BY_USER};Promise.resolve((0,v.saveOne)(E,e,E.current.invitationRef)).then(function(){return t.state.displayInvitation="all"})}catch(t){console.error(t)}}()}},"בטל הזמנה"),M()&&"edit"===e.state.displayInvitation&&E.current.status===w.invitationStatus.REMOVE_BY_USER&&(0,i.default)("button.button send",{onclick:function(t){return U()}},"שחזר הזמנה"))])])}}}},function(t,e,n){var r=n(39);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".invite {\n  font: inherit; }\n  .invite__title {\n    font-size: 3rem; }\n  .invite .button__text {\n    font-size: 1.8rem;\n    padding: 0.4rem;\n    border-radius: 1rem;\n    transition: all 0.2s;\n    cursor: pointer; }\n    .invite .button__text:hover {\n      transform: scale(1.1);\n      box-shadow: var(--box-shadow-light); }\n    .invite .button__text:active {\n      transform: scale(1);\n      box-shadow: none; }\n    .invite .button__text--add {\n      color: var(--color-txt-p); }\n    .invite .button__text--remove {\n      color: var(--color-red); }\n  .invite .group {\n    display: grid;\n    gap: 1rem;\n    width: -webkit-fill-available;\n    margin: 1rem; }\n    .invite .group .card {\n      display: grid;\n      gap: 1rem; }\n    .invite .group .buttons {\n      display: flex;\n      justify-content: center;\n      align-items: center; }\n      .invite .group .buttons > * {\n        margin: 2rem; }\n    .invite .group__title {\n      font-size: 2rem;\n      color: var(--color-txt-p);\n      font-weight: 600;\n      position: relative; }\n      .invite .group__title .icon {\n        position: absolute;\n        top: 0;\n        left: 0;\n        background-color: lightgray;\n        border-radius: 3rem;\n        cursor: pointer;\n        transition: transform 0.2s;\n        color: var(--color-non-active); }\n        .invite .group__title .icon:hover {\n          transform: scale(1.1);\n          box-shadow: var(--box-shadow-light); }\n        .invite .group__title .icon--action {\n          color: var(--color-txt-p); }\n      .invite .group__title .icon--right {\n        right: 0; }\n\n.row {\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-columns: 5rem auto;\n  box-shadow: var(--box-shadow-1);\n  border-radius: 1rem;\n  transition: transform 0.2s ease-in-out;\n  cursor: pointer;\n  color: var(--color-non-active); }\n  .row:hover .checkBox {\n    transform: scale(1.1);\n    border-color: var(--color-txt-p-light); }\n  .row--active {\n    color: var(--color-txt-p); }\n  .row__cell {\n    font-size: 1.8rem;\n    padding: 1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center; }\n    .row__cell .checkBox {\n      width: 3rem;\n      height: 3rem;\n      border: 1px solid var(--color-bg-1);\n      border-radius: 0.5rem;\n      transition: transform 0.2s ease-in-out; }\n      .row__cell .checkBox--invalid {\n        border-color: var(--color-red); }\n      .row__cell .checkBox .icon__svg {\n        fill: var(--color-txt-p); }\n\n.total {\n  border: 3px solid #007dd72b;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--color-bg-md); }\n  .total--invalid {\n    color: var(--color-red);\n    border-color: var(--color-red); }\n  .total__text {\n    font-size: 1.8rem;\n    font-weight: 600;\n    background-color: var(--color-bg-3); }\n\n.send {\n  color: var(--color-white);\n  background-color: var(--color-bg-md);\n  justify-self: center;\n  padding: 2rem;\n  font-size: 2rem;\n  margin: 2rem; }\n  .send.button--red {\n    background-color: var(--color-red); }\n\n.input__field.selectDate {\n  position: relative;\n  color: var(--color-non-active);\n  cursor: pointer; }\n  .input__field.selectDate--invalid {\n    color: var(--color-red); }\n  .input__field.selectDate .icon {\n    position: absolute;\n    bottom: 50%;\n    left: 5px;\n    transform: translateY(50%);\n    padding: 0.5rem;\n    border-radius: 50%;\n    transition: all 0.2s ease-in-out;\n    cursor: pointer; }\n    .input__field.selectDate .icon:hover {\n      background-color: var(--color-bg-layout); }\n      .input__field.selectDate .icon:hover .icon__svg {\n        fill: var(--color-red);\n        transform: scale(1.1); }\n\n.invitation {\n  gap: 2rem;\n  grid-template-columns: 1fr max-content;\n  grid-template-rows: min-content 1fr; }\n  .invitation--deleted {\n    opacity: 0.65; }\n  .invitation > .icon {\n    grid-row: 1;\n    cursor: pointer;\n    border-radius: 50%; }\n    .invitation > .icon:hover {\n      background-color: var(--color-bg-2); }\n  .invitation__dogs {\n    grid-row: 2;\n    display: flex;\n    align-items: center;\n    justify-content: center; }\n  .invitation__dog--added {\n    border: 2px solid blue; }\n  .invitation__dog--removed {\n    border: 2px solid red;\n    opacity: 0.6; }\n  .invitation__dog:not(:last-child) {\n    margin-left: 1rem; }\n  .invitation__dog-caption {\n    font-size: 1.4rem;\n    color: var(--color-non-active); }\n  .invitation__dog--removed .invitation__dog-caption {\n    text-decoration: line-through; }\n  .invitation__dates {\n    grid-row: 3;\n    display: flex;\n    align-items: center;\n    justify-content: center; }\n  .invitation__date {\n    margin: 1rem;\n    display: grid;\n    border: 1px solid #a2a2c454; }\n    .invitation__date--update {\n      border: 1px solid blue; }\n    .invitation__date-text {\n      padding: 0.5rem;\n      font-size: 1.4rem;\n      font-weight: 500; }\n    .invitation__date-day {\n      padding: 0.2rem;\n      font-size: 1.2rem;\n      font-weight: 500; }\n    .invitation__date-time {\n      padding: 0.1rem;\n      font-size: 1.2rem;\n      font-weight: 500; }\n  .invitation__arrow {\n    display: grid;\n    color: var(--color-non-active); }\n  .invitation__totalDays {\n    font-size: 1.4rem;\n    font-weight: 600; }\n  .invitation__status {\n    padding: 0.5rem;\n    justify-self: end;\n    grid-row: 1 / 4;\n    grid-column: 2;\n    align-self: center;\n    width: 7rem;\n    height: 100%;\n    border: 1px solid #d3d3d382;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    border-radius: 2rem 0 0 2rem; }\n    .invitation__status-text {\n      font-size: 1.6rem;\n      font-weight: 600; }\n\n.filters {\n  display: grid;\n  background-color: var(--color-bg-2);\n  padding: 1rem; }\n  .filters__row {\n    display: flex;\n    flex-flow: wrap;\n    align-items: center; }\n  .filters__caption {\n    font-size: 1.4rem;\n    font-weight: 600;\n    color: var(--color-txt-p);\n    margin-left: 1.5rem; }\n  .filters__status {\n    padding: 1rem;\n    background-color: white;\n    color: var(--color-txt-p);\n    margin: 0.5rem;\n    border-radius: 0.5rem;\n    font-size: 1.4rem;\n    font-weight: 400;\n    position: relative;\n    cursor: pointer;\n    transition: all 0.4s cubic-bezier(0.55, 0.09, 0.68, 0.53); }\n    .filters__status .counter {\n      position: absolute;\n      top: 0;\n      left: 0;\n      padding: 0.5rem;\n      font-size: 1.4rem;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 2rem;\n      height: 2rem;\n      transform: translateY(-50%);\n      background-color: #eb2f64;\n      color: white; }\n    .filters__status--active {\n      background-color: var(--color-txt-p);\n      color: white; }\n",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.docListener=e.queryListener=void 0;var r,o=n(3),a=n(0),i=(r=a)&&r.__esModule?r:{default:r};e.queryListener=function(t,e){return e.onSnapshot(function(e){e.docChanges().forEach(function(e){var n=e.doc,r=Object.assign(n.data(),{ref:n.ref.path,docID:n.id}),o=t.findIndex(function(t){return t.docID===r.docID});"added"===e.type||"modified"===e.type?-1!==o?t[o]=r:t.push(r):"removed"===e.type&&t.splice(o,1)}),i.default.redraw()})},e.docListener=function(t,e,n){o.db.collection(t).onSnapshot(function(t){t.docChanges().forEach(function(t){if(t.doc.ref.path===e){var r=t.doc,o=Object.assign(r.data(),{ref:r.ref.path,docID:r.id}),a=n.findIndex(function(t){return t.docID===o.docID});"added"===t.type||"modified"===t.type?-1!==a?n[a]=o:n.push(o):"removed"===t.type&&n.splice(a,1)}}),i.default.redraw()})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tabs=void 0;var r,o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(0),i=(r=a)&&r.__esModule?r:{default:r};n(42);var l=n(4);e.Tabs=function(t){return{view:function(t){return(0,i.default)(".tabs",[Object.entries(t.attrs.tabObj).map(function(e){var n=o(e,2),r=n[0],a=n[1];return(0,i.default)('.tabs__tab[data-active="'+(r===t.attrs.parent.state.currentTab)+'"]',{onclick:function(e){t.attrs.parent.state.currentTab=r}},[(0,i.default)("span",a.label),a.icon&&(0,i.default)(l.Icon,{icon:a.icon})])})])}}}},function(t,e,n){var r=n(43);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'.tabs {\n  display: grid;\n  grid-auto-flow: column;\n  justify-items: center;\n  justify-content: start;\n  align-items: flex-end;\n  align-content: flex-start;\n  gap: 1rem;\n  white-space: nowrap; }\n  .tabs__tab {\n    padding: 1rem;\n    border-bottom: 1px solid lightgray;\n    color: var(--color-non-active);\n    display: flex;\n    transition: all 0.2s ease-in-out;\n    cursor: pointer; }\n    .tabs__tab span {\n      font: inherit;\n      font-size: 1.8rem; }\n      @media screen and (max-width: 360px) {\n        .tabs__tab span {\n          font-size: 1.4rem; } }\n    .tabs__tab:hover {\n      color: var(--color-txt-p); }\n    .tabs__tab[data-active="true"] {\n      color: var(--color-txt-p);\n      border-bottom: 2px solid var(--color-txt-p); }\n      .tabs__tab[data-active="true"] .icon__svg {\n        fill: var(--color-txt-p); }\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Caption=void 0;var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r},i=n(4);n(45);e.Caption=function(t){return{view:function(t){return(0,a.default)(".caption",{class:void 0!==t.attrs.action?"caption--action":"",onclick:function(e){return void 0!==t.attrs.action?t.attrs.action(e):null}},(0,a.default)(".caption__text",t.attrs.text),t.attrs.icon&&(0,a.default)(i.Icon,{icon:t.attrs.icon,class:t.attrs.iconClass||""}))}}}},function(t,e,n){var r=n(46);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".caption {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: background 0.2s ease-in-out;\n  color: var(--color-non-active); }\n  .caption:hover {\n    background: var(--color-bg-layout); }\n  .caption--action {\n    cursor: pointer; }\n    .caption--action .icon {\n      color: var(--color-bg-md); }\n  .caption__text {\n    flex: 1;\n    font-size: 1.8rem; }\n",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Input=void 0;var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};n(48);var i=n(6);e.Input=function(t){return{view:function(t){return(0,a.default)("label.form__row group__row",[t.attrs.headerObj.label+":",(0,a.default)(".input",(0,a.default)("input.input__field"+(t.attrs.headerObj.disabled?"[disabled]":""),{value:t.attrs.doc[t.attrs.headerKey],type:t.attrs.headerObj.type||"text",oninput:function(e){return t.attrs.doc[t.attrs.headerKey]=e.target.value},onblur:function(e){var n,r,o;t.attrs.isNew||(0,i.saveOne)(t.attrs.model,(n={},r=t.attrs.headerKey,o=e.target.value,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),t.attrs.doc.docID)}}))])}}}},function(t,e,n){var r=n(49);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'.form__row,\n.group__row {\n  color: var(--color-txt-p-light);\n  font-weight: 600;\n  font-size: 1.8rem;\n  display: grid;\n  grid-auto-flow: column;\n  gap: 1rem;\n  align-items: center;\n  grid-template-columns: minmax(10rem, max-content) 1fr;\n  justify-items: center;\n  white-space: pre-wrap; }\n\n@media only screen and (max-width: 360px) {\n  .form__row,\n  .group__row {\n    grid-template-columns: minmax(7rem, min-content) 1fr;\n    padding: 0.4rem; } }\n\n.input {\n  justify-self: stretch;\n  border-radius: 1rem;\n  background-color: #f0f0f0;\n  position: relative;\n  transition: all .6s ease-in-out; }\n  .input::after {\n    position: absolute;\n    top: 100%;\n    left: 0;\n    content: "";\n    width: 100%;\n    height: 1px;\n    background-color: var(--color-non-active);\n    opacity: 0.4; }\n  .input:focus-within::after {\n    background-color: var(--color-txt-p-light);\n    opacity: 1; }\n  .input__label {\n    font-size: 1.4rem; }\n  .input__field {\n    border: none;\n    outline: none;\n    padding: 1rem;\n    font-size: 1.8rem;\n    width: 100%;\n    background-color: #f8f8f8;\n    color: var(--color-gray);\n    font: inherit;\n    font-size: 1.8rem;\n    font-weight: 400;\n    text-align: center;\n    text-overflow: ellipsis; }\n    .input__field:disabled {\n      color: var(--color-non-active);\n      background-color: #f0f0f0; }\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectInput=void 0;var r,o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(0),i=(r=a)&&r.__esModule?r:{default:r};n(51);var l=n(4),s=n(6);e.SelectInput=function(t){var e=t.attrs.headerKey,n=t.attrs.headerObj,r=t.attrs.doc,a=t.attrs.index,c=Object.assign({},n.options),u=function(){return t.state.isSearchMode=!t.state.isSearchMode};return{filterTerm:"",isSearchMode:!1,view:function(t){return(0,i.default)("label.group__row",{for:e+"_"+a},[n.label,(0,i.default)(".input input--select",{onclick:function(t){return u()},"data-search":t.state.isSearchMode},[(0,i.default)(".input__field input__field--select",[n.options[r[e]],(0,i.default)(l.Icon,{icon:t.state.isSearchMode?"icon-triangle-up":"icon-triangle-down",action:function(t){return null}})]),(0,i.default)("input[type=hidden]",{value:r[e],oninput:function(t){return console.log(t)}}),(0,i.default)(".form",{onclick:function(t){return t.stopPropagation()}},[(0,i.default)("input[type='search'][autoFocus][placeholder='חפש...']",{value:t.state.filterTerm||"",oninput:function(e){return t.state.filterTerm=e.target.value}}),Object.entries(c).map(function(n,a){var l=o(n,2),c=l[0],d=l[1];return!0===function(t,e){var n=!0;return t&&t.length>=2&&(n=-1!==e.trim().indexOf(t.trim())),n}(t.state.filterTerm,d)&&(0,i.default)(".option",{id:c,onclick:function(n){r[e]=c,!t.attrs.isNew&&(0,s.saveOne)(t.attrs.model,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,c),r.docID),u()}},d)})])])])}}}},function(t,e,n){var r=n(52);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'.input--select {\n  position: relative; }\n  .input--select[data-search] .form {\n    visibility: visible;\n    opacity: 1; }\n  .input--select .form {\n    opacity: 0;\n    visibility: hidden;\n    position: absolute;\n    top: 105%;\n    width: 100%;\n    display: grid;\n    z-index: 1;\n    background-color: #fff;\n    border-radius: 1rem;\n    box-shadow: var(--box-shadow-1);\n    font-size: 1.6rem; }\n    .input--select .form input[type="search"] {\n      font: inherit;\n      font-weight: 300;\n      width: 100%;\n      padding: 2rem;\n      border-radius: 1rem;\n      outline: none;\n      font-size: 1.6rem;\n      color: var(--color-txt-p);\n      background: var(--color-bg-3);\n      border: 1px solid lightgray; }\n    .input--select .form .option {\n      padding: 0.5rem;\n      font-size: 1.6rem;\n      transition: all 0.2s ease-in-out;\n      font-weight: 300;\n      color: var(--color-non-active); }\n      .input--select .form .option:hover {\n        color: var(--color-txt-p);\n        background-color: var(--color-bg-2); }\n\n.input[data-search] svg {\n  fill: var(--color-txt-p); }\n\n.input__field--select {\n  cursor: pointer;\n  color: var(--color-non-active);\n  display: grid;\n  grid-template-columns: 1fr auto; }\n  .input__field--select .icon {\n    border-radius: 50%; }\n    .input__field--select .icon:hover {\n      background-color: var(--color-bg-2); }\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalendarInput=void 0;var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};n(54);var i=n(4),l=n(10),s=n(13),c=n(6);e.CalendarInput=function(t){var e=["א","ב","ג","ד","ה","ו","ש"],n=t.attrs.month||(new Date).getMonth()+1,r=t.attrs.year||(new Date).getFullYear(),o=function(e){var n,r,o;t.state.selectedDate=e,t.attrs.doc[t.attrs.inputKey]=e,!0===t.attrs.saveOnClick&&(0,c.saveOne)(t.attrs.model,(n={},r=t.attrs.inputKey,o=e,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),t.attrs.doc.docID)},u=function(){var e=t.state.year,n=t.state.month;t.state.dates=[];for(var r=1,o=n;o==n;){var i=new Date(e,Number(n)-1,r);(o=i.getMonth()+1)==n&&t.state.dates.push(i.toDateString()),r++}a.default.redraw()};return{month:n,year:r,dates:[],selectedDate:"",oninit:function(t){u(),t.state.selectedDate=t.attrs.doc[t.attrs.inputKey]},view:function(n){return(0,a.default)(".calendar",{onclick:function(t){return n.attrs.parent.state.showCalendar=!1}},(0,a.default)(".calendar__box",{onclick:function(t){return t.stopPropagation()}},(0,a.default)(".calendar__title",[(0,a.default)("span",{class:""!==n.state.selectedDate?"calendar__title--link":"",onclick:function(t){var e=new Date(n.state.selectedDate);n.state.year=e.getFullYear(),n.state.month=e.getMonth()+1,u()}},n.attrs.label+" "+(""!==n.state.selectedDate?(0,l.dateFormatDMY)(new Date(n.state.selectedDate)):"--בחר--")),(0,a.default)(i.Icon,{icon:"icon-calendar",action:function(t){var e=new Date;n.state.year=e.getFullYear(),n.state.month=e.getMonth()+1,u()}})]),(0,a.default)(".calendar__filters",[(0,a.default)(i.Icon,{icon:"icon-chevron-thin-right",class:"calendar__arrow",action:function(t){1==n.state.month?(n.state.month=12,n.state.year=n.state.year-1):n.state.month=n.state.month-1,u()}}),(0,a.default)("input.input__field calendar__filter[type=number][min=1][max=12]",{value:n.state.month,onfocus:function(t){return t.target.oldVal=t.target.value},oninput:function(t){t.target.value>12||t.target.value<1?t.target.value=t.target.oldVal:(n.state.month=t.target.value,u())}}),(0,a.default)("input.input__field calendar__filter[type=number]",{value:n.state.year,onfocus:function(t){return t.target.oldVal=t.target.value},oninput:function(t){n.state.year=t.target.value,u()},onblur:function(t){(t.target.value.length>4||t.target.value.length<4)&&(n.state.year=t.target.oldVal,u())}}),(0,a.default)(i.Icon,{icon:"icon-chevron-thin-left",class:"calendar__arrow",action:function(t){12==n.state.month?(n.state.month=1,n.state.year=parseInt(n.state.year)+1):n.state.month=parseInt(n.state.month)+1,u()}})]),(0,a.default)(".calendar__grid",e.map(function(t){return(0,a.default)(".calendar__weekday",t)}),n.state.dates.map(function(e,r){var i=new Date(e),l=i.setHours(0,0,0,0),c=(new Date).setHours(0,0,0,0),u=l===new Date(n.state.selectedDate).setHours(0,0,0,0),d=function(e,n){var r=(new Date).setHours(0,0,0,0),o=!1;return t.attrs.rules&&(!0===t.attrs.rules[s.AFTER_TODAY]&&(o=e<r),t.attrs.rules[s.AFTER_DATE]&&""!==t.attrs.rules[s.AFTER_DATE]&&(o=o||e<new Date(t.attrs.rules[s.AFTER_DATE]).setHours(0,0,0,0)),t.attrs.rules[s.BEFORE_DATE]&&""!==t.attrs.rules[s.BEFORE_DATE]&&(o=o||e>new Date(t.attrs.rules[s.BEFORE_DATE]).setHours(0,0,0,0)),t.attrs.rules[s.NOT_DAYS]&&t.attrs.rules[s.NOT_DAYS].length>0&&Array.isArray(t.attrs.rules[s.NOT_DAYS])&&(o=o||t.attrs.rules[s.NOT_DAYS].includes(n.getDay()+1))),o}(l,i),f=l===c;if(0===r){var p=i.getDay()+1;return(0,a.default)(".calendar__cell"+(u?" calendar__cell--selected":""),{"data-column":p,"data-disabled":d,"data-datetime":e,"data-today":f,onclick:function(t){return d?null:o(e)}},i.getDate())}return(0,a.default)(".calendar__cell"+(u?" calendar__cell--selected":""),{"data-disabled":d,"data-today":f,"data-datetime":e,onclick:function(t){return d?null:o(e)}},i.getDate())}))))}}}},function(t,e,n){var r=n(55);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'.calendar {\n  position: fixed;\n  z-index: 100;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.4);\n  display: grid;\n  justify-content: center;\n  align-items: center; }\n  .calendar__box {\n    border-radius: 1rem;\n    background-color: var(--color-bg-layout);\n    box-shadow: var(--box-shadow-light);\n    display: grid;\n    gap: 1.5rem; }\n  .calendar__title {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: var(--color-bg-dark);\n    color: white;\n    padding: 0.5rem;\n    border-radius: 1rem 1rem 0 0; }\n    .calendar__title span {\n      font-size: 2rem;\n      font-weight: 400;\n      flex: 1;\n      border-radius: 1rem; }\n    .calendar__title--link {\n      cursor: pointer; }\n      .calendar__title--link:hover {\n        background-color: #e1e1f338;\n        box-shadow: 0px 2px 8px 2px #a2a2c47d; }\n    .calendar__title .icon {\n      border-radius: 50%;\n      cursor: pointer;\n      background-color: #f8f8f8;\n      width: 4.5rem;\n      height: 4.5rem;\n      transition: transform 0.2s ease-in-out; }\n      .calendar__title .icon:hover {\n        transform: scale(1.1); }\n      .calendar__title .icon:active {\n        transform: scale(1); }\n      .calendar__title .icon__svg {\n        fill: var(--color-bg-dark); }\n  .calendar__filters {\n    display: grid;\n    grid-auto-flow: column;\n    gap: 2rem;\n    justify-content: center; }\n  .calendar__filter {\n    max-width: 10rem;\n    border: 2px solid #33366629; }\n  .calendar__arrow.icon {\n    align-self: center;\n    border-radius: 50%;\n    width: 4rem;\n    height: 4rem;\n    box-shadow: var(--box-shadow-light);\n    cursor: pointer;\n    transition: transform 0.2s ease-in-out; }\n    .calendar__arrow.icon:hover {\n      transform: scale(1.1);\n      background-color: var(--color-bg-md); }\n      .calendar__arrow.icon:hover .icon__svg {\n        fill: white; }\n    .calendar__arrow.icon:active {\n      transform: scale(1); }\n  .calendar__grid {\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    grid-template-rows: repeat(7, 1fr);\n    padding: 0.5rem;\n    align-items: center; }\n  .calendar__cell {\n    display: grid;\n    font-size: 2rem;\n    padding: 0.5rem;\n    border-radius: 50%;\n    width: 4.5rem;\n    height: 4.5rem;\n    cursor: pointer;\n    transition: all 0.2s ease-in-out; }\n    .calendar__cell:hover {\n      border: 1px solid var(--color-bg-md);\n      color: var(--color-bg-md); }\n    .calendar__cell--selected {\n      background-color: var(--color-bg-md);\n      color: var(--color-white); }\n      .calendar__cell--selected:hover {\n        background-color: var(--color-bg-md);\n        color: var(--color-white);\n        opacity: 0.9; }\n    .calendar__cell:active {\n      background-color: var(--color-active); }\n    .calendar__cell[data-today] {\n      border: 2px solid var(--color-bg-dark);\n      border-radius: 0.5rem; }\n    .calendar__cell[data-disabled] {\n      color: darkgray;\n      background-color: #0000000f;\n      border: none;\n      cursor: not-allowed; }\n    .calendar__cell[data-column="1"] {\n      grid-column: 1; }\n    .calendar__cell[data-column="2"] {\n      grid-column: 2; }\n    .calendar__cell[data-column="3"] {\n      grid-column: 3; }\n    .calendar__cell[data-column="4"] {\n      grid-column: 4; }\n    .calendar__cell[data-column="5"] {\n      grid-column: 5; }\n    .calendar__cell[data-column="6"] {\n      grid-column: 6; }\n    .calendar__cell[data-column="7"] {\n      grid-column: 7; }\n  .calendar__weekday {\n    font-size: 1.8rem;\n    font-weight: bold;\n    color: var(--color-txt-p); }\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileUpload=void 0;var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};n(57);var i=n(4),l=n(3);function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.FileUpload=function(t){var e=function(e){var n=new FileReader;n.onload=function(){t.state.fileUrl=n.result,t.state.fileType=e[0].type,t.state.showPopUp=!0,t.state.fileBlob=e[0],a.default.redraw()},n.readAsDataURL(e[0])},n=function(t){t.preventDefault(),t.stopPropagation()},r=function(){try{var e=firebase.storage().ref().child(""+t.attrs.path);e.getDownloadURL().then(function(n){return t.state.isStorageFile=!0,t.state.fileUrl=n,e.getMetadata()}).then(function(e){t.state.fileType=e.contentType}).then(function(){a.default.redraw()})}catch(t){console.error(t)}};return{id:+new Date,isStorageFile:!1,fileBlob:null,fileUrl:"",fileType:"",showPopUp:!1,drag:!1,hover:!1,oninit:function(t){""!==t.attrs.value&&(t.state.isStorageFile=!0,t.state.fileUrl=t.attrs.value)},view:function(o){return(0,a.default)(".file",o.state.showPopUp&&(0,a.default)(".showImg",{onclick:function(t){return o.state.showPopUp=!1}},(0,a.default)(".showImg__box",{onclick:function(t){}},[""===o.state.fileUrl?(0,a.default)("label.showImg__noImage[for="+o.state.id+"]",{class:o.state.drag?"droparea":o.state.hover?"hover":"",onmouseenter:function(t){!o.state.drag&&(o.state.hover=!0)},onmouseleave:function(t){o.state.hover=!1},onclick:function(t){t.stopPropagation()},ondragover:function(t){o.state.drag=!0,n(t)},ondragenter:function(t){o.state.drag=!0,n(t)},ondragleave:function(t){o.state.drag=!1,n(t)},ondrop:function(t){o.state.drag=!1,n(t),e(t.dataTransfer.files)}},o.state.drag?"השלך כאן":"העלה קובץ",(0,a.default)(i.Icon,{icon:"icon-upload"})):(0,a.default)(".showImg__img",(0,a.default)(i.Icon,{class:"showImg__remove",icon:"icon-trash",action:function(e){o.state.isStorageFile?firebase.storage().ref().child(""+t.attrs.path).delete().then(function(){return t.state.fileUrl="",t.state.fileType="",t.state.isStorageFile=!1,l.db.doc(""+t.attrs.path).set(s({},t.attrs.inputKey,""),{merge:!0})}).catch(function(t){console.error(t)}).finally(function(){a.default.redraw()}):o.state.fileUrl=""}}),"application/pdf"===o.state.fileType?(0,a.default)("iframe",{onclick:function(t){t.preventDefault(),t.stopPropagation()},title:"תצוגה מקדימה",src:o.state.fileUrl,width:"300",height:"400",allowfullscreen:!0}):(0,a.default)("img",{onclick:function(t){t.preventDefault(),t.stopPropagation()},src:o.state.fileUrl,alt:"אין תצוגה מקדימה",width:"300"})),""!==o.state.fileUrl&&!1===o.state.isStorageFile&&(0,a.default)("button.showImg__save",{onclick:function(e){return function(e){if(""!==t.state.fileUrl&&""!==t.state.fileType){var n={contentType:t.state.fileType},o=firebase.storage().ref().child(""+t.attrs.path).put(t.state.fileBlob,n);o.on(firebase.storage.TaskEvent.STATE_CHANGED,function(t){var e=t.bytesTransferred/t.totalBytes*100;console.log("Upload is "+e+"% done")},function(t){console.error(t)},function(){o.snapshot.ref.getDownloadURL().then(function(e){return console.log("new file url ==> ",e),t.state.fileUrl=e,t.state.showPopUp=!1,l.db.doc(""+t.attrs.path).set(s({},t.attrs.inputKey,e),{merge:!0})}).then(function(){r(),a.default.redraw()})})}}()}},"שמור",(0,a.default)(i.Icon,{icon:"icon-upload"}))])),""===o.state.fileUrl?(0,a.default)(i.Icon,{class:"file__thumb",icon:"icon-pictures",action:function(t){return o.state.showPopUp=!0}}):(0,a.default)("img.file__thumb",{src:o.state.fileUrl,onclick:function(t){return o.state.showPopUp=!0}}),(0,a.default)("input.[type=file][hidden]#"+o.state.id,{onchange:function(t){return e(t.target.files)}}))}}}},function(t,e,n){var r=n(58);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".file {\n  align-self: center;\n  justify-self: center; }\n  .file__thumb {\n    cursor: pointer;\n    border-radius: 1.5rem;\n    padding: 1rem;\n    width: 6rem;\n    height: 6rem;\n    transition: transform 0.2s ease-in-out; }\n    .file__thumb:hover {\n      transform: scale(1.1); }\n    .file__thumb:active {\n      transform: scale(1); }\n    .file__thumb .icon__svg {\n      fill: var(--color-txt-p-light);\n      width: 6rem;\n      height: 6rem; }\n  .file .showImg {\n    cursor: pointer;\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100vw;\n    height: 100vh;\n    background: rgba(0, 0, 0, 0.4);\n    z-index: 100;\n    display: grid;\n    justify-content: center;\n    align-items: center;\n    grid-auto-flow: column; }\n    .file .showImg__box {\n      cursor: context-menu;\n      border-radius: 2rem;\n      padding: 2rem;\n      background-color: var(--color-white);\n      display: grid;\n      gap: 2rem; }\n    .file .showImg__noImage {\n      width: 30rem;\n      height: 30rem;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background-color: var(--color-bg-2);\n      border-radius: 0.5rem;\n      font-size: 2.4rem;\n      color: var(--color-txt-p-trs);\n      cursor: pointer; }\n    .file .showImg__noImage.droparea {\n      border: 5px dotted lightgray;\n      color: var(--color-txt-p); }\n    .file .showImg__noImage.hover {\n      color: var(--color-txt-p); }\n    .file .showImg__img {\n      position: relative; }\n    .file .showImg__remove {\n      position: absolute;\n      top: 0;\n      right: 0;\n      background-color: var(--color-red);\n      color: white;\n      width: 4rem;\n      height: 4rem;\n      border-radius: 50%;\n      transition: transform 0.2s ease-in-out; }\n      .file .showImg__remove:hover {\n        transform: scale(1.2); }\n      .file .showImg__remove:active {\n        transform: scale(1); }\n      .file .showImg__remove .icon__svg {\n        fill: currentColor; }\n    .file .showImg__save {\n      background-color: var(--color-bg-md);\n      color: var(--color-white);\n      font-size: 2rem;\n      transition: transform 0.2s ease-in-out;\n      padding: 1rem;\n      border-radius: 1rem;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      outline: none;\n      border: none; }\n      .file .showImg__save:hover {\n        transform: scale(1.1); }\n      .file .showImg__save:active {\n        transform: scale(1); }\n      .file .showImg__save__text {\n        flex: 1; }\n      .file .showImg__save .icon__svg {\n        fill: var(--color-white); }\n",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.invitationStatus={NEW:"new",UPDATE_SENT:"updateSent",CONFIRM:"confirm",REJECT:"reject",REMOVE_BY_USER:"removeByUser",ACTIVE:"active",DONE:"done",new:{label:"ממתין לאישור",next:["updateSent","confirm","reject","removeByUser"],color:"#007ed8"},updateSent:{label:"ממתין לעדכון",next:["updateSent","confirm","reject","removeByUser"],color:"#007ed8"},confirm:{label:"מאושר",next:["updateSent","removeByUser","active"],color:"#08b308"},reject:{label:"נדחה",next:["confirm"],color:"#eb2f64"},removeByUser:{label:"בוטל",next:["reject","confirm"],color:"#eb2f64"},active:{label:"פעיל",next:["updateSent","done"],color:""},done:{label:"הסתיים",next:[],color:""}},e.daysOfWeek=[{label:"ראשון"},{label:"שני"},{label:"שלישי"},{label:"רביעי"},{label:"חמישי"},{label:"שישי"},{label:"שבת"}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalendarField=void 0;var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r},i=n(10),l=n(4);e.CalendarField=function(t){return{view:function(t){return(0,a.default)("label.form__row group__row",[t.attrs.label,(0,a.default)(".input",(0,a.default)(".input__field selectDate",{class:""===t.attrs.doc[t.attrs.inputKey]?"selectDate--invalid":"",onclick:function(e){t.attrs.parent.state.showCalendar={model:t.attrs.model,saveOnClick:t.attrs.saveOnClick||!1,doc:t.attrs.doc,inputKey:t.attrs.inputKey,label:t.attrs.label,rules:t.attrs.rules}}},""===t.attrs.doc[t.attrs.inputKey]?"--בחר תאריך--":(0,i.dateFormatDMY)(new Date(t.attrs.doc[t.attrs.inputKey])),""!==t.attrs.doc[t.attrs.inputKey]&&(0,a.default)(l.Icon,{icon:"icon-x",action:function(e){e.stopPropagation(),t.attrs.doc[t.attrs.inputKey]=""}})))])}}}}]);